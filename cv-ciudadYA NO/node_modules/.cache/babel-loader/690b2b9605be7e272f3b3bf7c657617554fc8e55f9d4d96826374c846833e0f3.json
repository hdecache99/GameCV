{"ast":null,"code":"import * as PIXI from 'pixi.js';\nclass Jugador {\n  constructor(app, ciudad) {\n    this.app = app;\n    this.ciudad = ciudad;\n    this.sprite = new PIXI.AnimatedSprite(this.getTextures());\n    this.speed = 5;\n    this.jumpForce = 15;\n    this.velocityY = 0;\n    this.gravity = 0.5;\n    this.isJumping = false;\n    this.direction = 1; // 1 derecha, -1 izquierda\n\n    this.setup();\n  }\n  getTextures() {\n    const textures = [];\n    for (let i = 0; i <= 7; i++) {\n      textures.push(PIXI.Texture.from(`tile00${i}.png`));\n    }\n    return textures;\n  }\n  setup() {\n    this.sprite.animationSpeed = 0.1;\n    this.sprite.play();\n    this.sprite.anchor.set(0.5);\n    this.sprite.scale.set(0.5);\n    this.sprite.x = 100;\n    this.sprite.y = window.innerHeight - 150;\n    this.app.stage.addChild(this.sprite);\n\n    // Controles del teclado\n    this.keys = {\n      left: false,\n      right: false,\n      up: false\n    };\n    window.addEventListener('keydown', e => this.handleKeyDown(e));\n    window.addEventListener('keyup', e => this.handleKeyUp(e));\n\n    // Agregar el jugador al game loop\n    this.app.ticker.add(() => this.update());\n  }\n  handleKeyDown(e) {\n    switch (e.key) {\n      case 'ArrowLeft':\n        this.keys.left = true;\n        this.direction = -1;\n        this.sprite.scale.x = -0.5;\n        break;\n      case 'ArrowRight':\n        this.keys.right = true;\n        this.direction = 1;\n        this.sprite.scale.x = 0.5;\n        break;\n      case 'ArrowUp':\n        if (!this.isJumping) {\n          this.keys.up = true;\n          this.velocityY = -this.jumpForce;\n          this.isJumping = true;\n        }\n        break;\n    }\n  }\n  handleKeyUp(e) {\n    switch (e.key) {\n      case 'ArrowLeft':\n        this.keys.left = false;\n        break;\n      case 'ArrowRight':\n        this.keys.right = false;\n        break;\n      case 'ArrowUp':\n        this.keys.up = false;\n        break;\n    }\n  }\n  update() {\n    // Movimiento horizontal\n    if (this.keys.left) {\n      this.sprite.x -= this.speed;\n      this.moveStage(this.speed);\n    }\n    if (this.keys.right) {\n      this.sprite.x += this.speed;\n      this.moveStage(-this.speed);\n    }\n\n    // Gravedad y salto\n    this.velocityY += this.gravity;\n    this.sprite.y += this.velocityY;\n\n    // Colisión con el suelo\n    const groundLevel = window.innerHeight - 150;\n    if (this.sprite.y > groundLevel) {\n      this.sprite.y = groundLevel;\n      this.velocityY = 0;\n      this.isJumping = false;\n    }\n\n    // Colisión con plataformas\n    this.checkPlatformCollision();\n\n    // Mantener al jugador en pantalla\n    this.keepInBounds();\n  }\n  moveStage(speed) {\n    // Mover todo el escenario en dirección opuesta para simular scroll\n    this.app.stage.position.x += speed;\n\n    // Limitar el movimiento del escenario\n    const maxLeft = 0;\n    const maxRight = -(this.ciudad.width - window.innerWidth);\n    if (this.app.stage.position.x > maxLeft) {\n      this.app.stage.position.x = maxLeft;\n    }\n    if (this.app.stage.position.x < maxRight) {\n      this.app.stage.position.x = maxRight;\n    }\n  }\n  checkPlatformCollision() {\n    // Implementar lógica de colisión con plataformas\n    // Aquí puedes verificar si el jugador está sobre una plataforma\n    // y detener la caída si es así\n  }\n  keepInBounds() {\n    // Mantener al jugador dentro de los límites de la pantalla\n    const halfWidth = this.sprite.width / 2;\n    if (this.sprite.x < halfWidth) {\n      this.sprite.x = halfWidth;\n    }\n    if (this.sprite.x > window.innerWidth - halfWidth) {\n      this.sprite.x = window.innerWidth - halfWidth;\n    }\n  }\n}\nexport default Jugador;","map":{"version":3,"names":["PIXI","Jugador","constructor","app","ciudad","sprite","AnimatedSprite","getTextures","speed","jumpForce","velocityY","gravity","isJumping","direction","setup","textures","i","push","Texture","from","animationSpeed","play","anchor","set","scale","x","y","window","innerHeight","stage","addChild","keys","left","right","up","addEventListener","e","handleKeyDown","handleKeyUp","ticker","add","update","key","moveStage","groundLevel","checkPlatformCollision","keepInBounds","position","maxLeft","maxRight","width","innerWidth","halfWidth"],"sources":["C:/Users/emalv/OneDrive/Desktop/Portafolio/cv-ciudad/src/components/Jugador.js"],"sourcesContent":["import * as PIXI from 'pixi.js';\r\n\r\nclass Jugador {\r\n  constructor(app, ciudad) {\r\n    this.app = app;\r\n    this.ciudad = ciudad;\r\n    this.sprite = new PIXI.AnimatedSprite(this.getTextures());\r\n    this.speed = 5;\r\n    this.jumpForce = 15;\r\n    this.velocityY = 0;\r\n    this.gravity = 0.5;\r\n    this.isJumping = false;\r\n    this.direction = 1; // 1 derecha, -1 izquierda\r\n    \r\n    this.setup();\r\n  }\r\n  \r\n  getTextures() {\r\n    const textures = [];\r\n    for (let i = 0; i <= 7; i++) {\r\n      textures.push(PIXI.Texture.from(`tile00${i}.png`));\r\n    }\r\n    return textures;\r\n  }\r\n  \r\n  setup() {\r\n    this.sprite.animationSpeed = 0.1;\r\n    this.sprite.play();\r\n    this.sprite.anchor.set(0.5);\r\n    this.sprite.scale.set(0.5);\r\n    this.sprite.x = 100;\r\n    this.sprite.y = window.innerHeight - 150;\r\n    \r\n    this.app.stage.addChild(this.sprite);\r\n    \r\n    // Controles del teclado\r\n    this.keys = {\r\n      left: false,\r\n      right: false,\r\n      up: false\r\n    };\r\n    \r\n    window.addEventListener('keydown', (e) => this.handleKeyDown(e));\r\n    window.addEventListener('keyup', (e) => this.handleKeyUp(e));\r\n    \r\n    // Agregar el jugador al game loop\r\n    this.app.ticker.add(() => this.update());\r\n  }\r\n  \r\n  handleKeyDown(e) {\r\n    switch(e.key) {\r\n      case 'ArrowLeft':\r\n        this.keys.left = true;\r\n        this.direction = -1;\r\n        this.sprite.scale.x = -0.5;\r\n        break;\r\n      case 'ArrowRight':\r\n        this.keys.right = true;\r\n        this.direction = 1;\r\n        this.sprite.scale.x = 0.5;\r\n        break;\r\n      case 'ArrowUp':\r\n        if (!this.isJumping) {\r\n          this.keys.up = true;\r\n          this.velocityY = -this.jumpForce;\r\n          this.isJumping = true;\r\n        }\r\n        break;\r\n    }\r\n  }\r\n  \r\n  handleKeyUp(e) {\r\n    switch(e.key) {\r\n      case 'ArrowLeft':\r\n        this.keys.left = false;\r\n        break;\r\n      case 'ArrowRight':\r\n        this.keys.right = false;\r\n        break;\r\n      case 'ArrowUp':\r\n        this.keys.up = false;\r\n        break;\r\n    }\r\n  }\r\n  \r\n  update() {\r\n    // Movimiento horizontal\r\n    if (this.keys.left) {\r\n      this.sprite.x -= this.speed;\r\n      this.moveStage(this.speed);\r\n    }\r\n    if (this.keys.right) {\r\n      this.sprite.x += this.speed;\r\n      this.moveStage(-this.speed);\r\n    }\r\n    \r\n    // Gravedad y salto\r\n    this.velocityY += this.gravity;\r\n    this.sprite.y += this.velocityY;\r\n    \r\n    // Colisión con el suelo\r\n    const groundLevel = window.innerHeight - 150;\r\n    if (this.sprite.y > groundLevel) {\r\n      this.sprite.y = groundLevel;\r\n      this.velocityY = 0;\r\n      this.isJumping = false;\r\n    }\r\n    \r\n    // Colisión con plataformas\r\n    this.checkPlatformCollision();\r\n    \r\n    // Mantener al jugador en pantalla\r\n    this.keepInBounds();\r\n  }\r\n  \r\n  moveStage(speed) {\r\n    // Mover todo el escenario en dirección opuesta para simular scroll\r\n    this.app.stage.position.x += speed;\r\n    \r\n    // Limitar el movimiento del escenario\r\n    const maxLeft = 0;\r\n    const maxRight = -(this.ciudad.width - window.innerWidth);\r\n    \r\n    if (this.app.stage.position.x > maxLeft) {\r\n      this.app.stage.position.x = maxLeft;\r\n    }\r\n    \r\n    if (this.app.stage.position.x < maxRight) {\r\n      this.app.stage.position.x = maxRight;\r\n    }\r\n  }\r\n  \r\n  checkPlatformCollision() {\r\n    // Implementar lógica de colisión con plataformas\r\n    // Aquí puedes verificar si el jugador está sobre una plataforma\r\n    // y detener la caída si es así\r\n  }\r\n  \r\n  keepInBounds() {\r\n    // Mantener al jugador dentro de los límites de la pantalla\r\n    const halfWidth = this.sprite.width / 2;\r\n    \r\n    if (this.sprite.x < halfWidth) {\r\n      this.sprite.x = halfWidth;\r\n    }\r\n    \r\n    if (this.sprite.x > window.innerWidth - halfWidth) {\r\n      this.sprite.x = window.innerWidth - halfWidth;\r\n    }\r\n  }\r\n}\r\n\r\nexport default Jugador;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}