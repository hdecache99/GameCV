{"ast":null,"code":"import { Color } from '../../../../color/Color.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\nimport { FillGradient } from '../fill/FillGradient.mjs';\nimport { parseSVGFloatAttribute } from './parseSVGFloatAttribute.mjs';\n\"use strict\";\nfunction parseSVGDefinitions(svg, session) {\n  const definitions = svg.querySelectorAll(\"defs\");\n  for (let i = 0; i < definitions.length; i++) {\n    const definition = definitions[i];\n    for (let j = 0; j < definition.children.length; j++) {\n      const child = definition.children[j];\n      switch (child.nodeName.toLowerCase()) {\n        case \"lineargradient\":\n          session.defs[child.id] = parseLinearGradient(child);\n          break;\n        case \"radialgradient\":\n          session.defs[child.id] = parseRadialGradient(child);\n          break;\n        default:\n          break;\n      }\n    }\n  }\n}\nfunction parseLinearGradient(child) {\n  const x0 = parseSVGFloatAttribute(child, \"x1\", 0);\n  const y0 = parseSVGFloatAttribute(child, \"y1\", 0);\n  const x1 = parseSVGFloatAttribute(child, \"x2\", 1);\n  const y1 = parseSVGFloatAttribute(child, \"y2\", 0);\n  const gradientUnit = child.getAttribute(\"gradientUnits\") || \"objectBoundingBox\";\n  const gradient = new FillGradient(x0, y0, x1, y1, gradientUnit === \"objectBoundingBox\" ? \"local\" : \"global\");\n  for (let k = 0; k < child.children.length; k++) {\n    const stop = child.children[k];\n    const offset = parseSVGFloatAttribute(stop, \"offset\", 0);\n    const color = Color.shared.setValue(stop.getAttribute(\"stop-color\")).toNumber();\n    gradient.addColorStop(offset, color);\n  }\n  return gradient;\n}\nfunction parseRadialGradient(_child) {\n  warn(\"[SVG Parser] Radial gradients are not yet supported\");\n  return new FillGradient(0, 0, 1, 0);\n}\nexport { parseSVGDefinitions };","map":{"version":3,"names":["parseSVGDefinitions","svg","session","definitions","querySelectorAll","i","length","definition","j","children","child","nodeName","toLowerCase","defs","id","parseLinearGradient","parseRadialGradient","x0","parseSVGFloatAttribute","y0","x1","y1","gradientUnit","getAttribute","gradient","FillGradient","k","stop","offset","color","Color","shared","setValue","toNumber","addColorStop","_child","warn"],"sources":["C:\\Users\\emalv\\OneDrive\\Desktop\\Portafolio\\cv-ciudad\\node_modules\\pixi.js\\src\\scene\\graphics\\shared\\svg\\parseSVGDefinitions.ts"],"sourcesContent":["import { Color } from '../../../../color/Color';\nimport { warn } from '../../../../utils/logging/warn';\nimport { FillGradient } from '../fill/FillGradient';\nimport { parseSVGFloatAttribute } from './parseSVGFloatAttribute';\n\nimport type { Session } from './SVGParser';\n\n/**\n * Parses SVG gradient definitions and stores them in the session for later use.\n * Currently supports linear gradients and has placeholder support for radial gradients.\n * @param svg - The root SVG element to parse definitions from\n * @param session - The parsing session to store definitions in\n */\nexport function parseSVGDefinitions(svg: SVGElement, session: Session): void\n{\n    // Find all <defs> elements in the SVG\n    const definitions = svg.querySelectorAll('defs');\n\n    // Process each <defs> element\n    for (let i = 0; i < definitions.length; i++)\n    {\n        const definition = definitions[i];\n\n        // Process each child element in the <defs>\n        for (let j = 0; j < definition.children.length; j++)\n        {\n            const child = definition.children[j];\n\n            // Handle different types of gradient definitions\n            switch (child.nodeName.toLowerCase())\n            {\n                case 'lineargradient':\n                    // Store the parsed linear gradient in the session defs using the gradient's ID\n                    session.defs[child.id] = parseLinearGradient(child as SVGElement);\n                    break;\n                case 'radialgradient':\n                    session.defs[child.id] = parseRadialGradient(child as SVGElement);\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n}\n\n/**\n * Parses an SVG linear gradient element into a FillGradient.\n * @param child - The SVG linear gradient element to parse\n * @returns A FillGradient configured based on the SVG element\n */\nfunction parseLinearGradient(child: SVGElement): FillGradient\n{\n    // Parse the gradient vector coordinates (defaults: horizontal line from 0 to 1)\n    const x0 = parseSVGFloatAttribute(child, 'x1', 0);\n    const y0 = parseSVGFloatAttribute(child, 'y1', 0);\n    const x1 = parseSVGFloatAttribute(child, 'x2', 1);\n    const y1 = parseSVGFloatAttribute(child, 'y2', 0);\n\n    // Get the gradient coordinate system\n    const gradientUnit = child.getAttribute('gradientUnits') || 'objectBoundingBox';\n\n    // Create gradient with coordinates and space mapping\n    const gradient = new FillGradient(\n        x0,\n        y0,\n        x1,\n        y1,\n        gradientUnit === 'objectBoundingBox' ? 'local' : 'global'\n    );\n\n    // Process each gradient stop\n    for (let k = 0; k < child.children.length; k++)\n    {\n        const stop = child.children[k] as SVGElement;\n\n        // Get stop position (0-1) and color\n        const offset = parseSVGFloatAttribute(stop, 'offset', 0);\n        const color = Color.shared.setValue(stop.getAttribute('stop-color')).toNumber();\n\n        gradient.addColorStop(offset, color);\n    }\n\n    return gradient;\n}\n\n/**\n * Placeholder function for parsing SVG radial gradients.\n * Currently returns a simple horizontal linear gradient and logs a warning.\n * @param _child - The SVG radial gradient element (currently unused)\n * @returns A default linear gradient\n */\nfunction parseRadialGradient(_child: SVGElement): FillGradient\n{\n    // #if _DEBUG\n    warn('[SVG Parser] Radial gradients are not yet supported');\n    // #endif\n\n    return new FillGradient(0, 0, 1, 0);\n}\n"],"mappings":";;;;;AAagB,SAAAA,oBAAoBC,GAAA,EAAiBC,OACrD;EAEU,MAAAC,WAAA,GAAcF,GAAI,CAAAG,gBAAA,CAAiB,MAAM;EAG/C,SAASC,CAAI,MAAGA,CAAI,GAAAF,WAAA,CAAYG,MAAA,EAAQD,CACxC;IACU,MAAAE,UAAA,GAAaJ,WAAA,CAAYE,CAAC;IAGhC,SAASG,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAID,UAAW,CAAAE,QAAA,CAASH,MAAA,EAAQE,CAChD;MACU,MAAAE,KAAA,GAAQH,UAAW,CAAAE,QAAA,CAASD,CAAC;MAG3B,QAAAE,KAAA,CAAMC,QAAS,CAAAC,WAAA,EACvB;QACI,KAAK;UAEDV,OAAA,CAAQW,IAAK,CAAAH,KAAA,CAAMI,EAAE,IAAIC,mBAAA,CAAoBL,KAAmB;UAChE;QACJ,KAAK;UACDR,OAAA,CAAQW,IAAK,CAAAH,KAAA,CAAMI,EAAE,IAAIE,mBAAA,CAAoBN,KAAmB;UAChE;QACJ;UACI;MAAA;IACR;EACJ;AAER;AAOA,SAASK,oBAAoBL,KAC7B;EAEI,MAAMO,EAAK,GAAAC,sBAAA,CAAuBR,KAAO,QAAM,CAAC;EAChD,MAAMS,EAAK,GAAAD,sBAAA,CAAuBR,KAAO,QAAM,CAAC;EAChD,MAAMU,EAAK,GAAAF,sBAAA,CAAuBR,KAAO,QAAM,CAAC;EAChD,MAAMW,EAAK,GAAAH,sBAAA,CAAuBR,KAAO,QAAM,CAAC;EAGhD,MAAMY,YAAe,GAAAZ,KAAA,CAAMa,YAAa,gBAAe,CAAK;EAG5D,MAAMC,QAAA,GAAW,IAAIC,YAAA,CACjBR,EAAA,EACAE,EAAA,EACAC,EAAA,EACAC,EAAA,EACAC,YAAA,KAAiB,sBAAsB,OAAU,YACrD;EAGA,SAASI,CAAA,GAAI,CAAG,EAAAA,CAAA,GAAIhB,KAAM,CAAAD,QAAA,CAASH,MAAA,EAAQoB,CAC3C;IACU,MAAAC,IAAA,GAAOjB,KAAM,CAAAD,QAAA,CAASiB,CAAC;IAG7B,MAAME,MAAS,GAAAV,sBAAA,CAAuBS,IAAM,YAAU,CAAC;IACjD,MAAAE,KAAA,GAAQC,KAAA,CAAMC,MAAO,CAAAC,QAAA,CAASL,IAAA,CAAKJ,YAAa,aAAY,CAAC,EAAEU,QAAS;IAErET,QAAA,CAAAU,YAAA,CAAaN,MAAA,EAAQC,KAAK;EAAA;EAGhC,OAAAL,QAAA;AACX;AAQA,SAASR,oBAAoBmB,MAC7B;EAEIC,IAAA,CAAK,qDAAqD;EAG1D,OAAO,IAAIX,YAAA,CAAa,CAAG,KAAG,GAAG,CAAC;AACtC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}