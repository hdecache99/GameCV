{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emalv\\\\OneDrive\\\\Desktop\\\\Portafolio\\\\cv-ciudad\\\\src\\\\components\\\\Juego.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport * as PIXI from 'pixi.js';\nimport './Juego.css';\nimport Jugador from './Jugador';\nimport Ciudad from './Ciudad';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Juego = () => {\n  _s();\n  const gameRef = useRef(null);\n  const appRef = useRef(null);\n  const jugadorRef = useRef(null);\n  const ciudadRef = useRef(null);\n  useEffect(() => {\n    // Verificar que el contenedor existe\n    if (!gameRef.current) return;\n\n    // Configuración inicial de PixiJS\n    const app = new PIXI.Application({\n      width: window.innerWidth,\n      height: window.innerHeight,\n      backgroundColor: 0x1099bb,\n      resolution: window.devicePixelRatio || 1,\n      autoDensity: true,\n      // Asegurarnos de que el canvas se adjunte después de la creación\n      view: document.createElement('canvas')\n    });\n\n    // Adjuntar el canvas al contenedor\n    gameRef.current.appendChild(app.view);\n    appRef.current = app;\n\n    // Crear la ciudad (escenario)\n    const ciudad = new Ciudad(app);\n    ciudadRef.current = ciudad;\n\n    // Crear al jugador\n    const jugador = new Jugador(app, ciudad);\n    jugadorRef.current = jugador;\n\n    // Configurar el scroll horizontal\n    app.stage.position.x = 0;\n\n    // Manejar redimensionamiento\n    const handleResize = () => {\n      app.renderer.resize(window.innerWidth, window.innerHeight);\n    };\n    window.addEventListener('resize', handleResize);\n\n    // Función de limpieza\n    return () => {\n      window.removeEventListener('resize', handleResize);\n      // Eliminar el canvas correctamente\n      if (gameRef.current && app.view) {\n        gameRef.current.removeChild(app.view);\n      }\n      app.destroy(true, {\n        children: true,\n        texture: true,\n        baseTexture: true\n      });\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: gameRef,\n    className: \"game-container\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 10\n  }, this);\n};\n_s(Juego, \"UtD534sgm/zHLlOt17vHr7KCuaU=\");\n_c = Juego;\nexport default Juego;\nvar _c;\n$RefreshReg$(_c, \"Juego\");","map":{"version":3,"names":["React","useEffect","useRef","PIXI","Jugador","Ciudad","jsxDEV","_jsxDEV","Juego","_s","gameRef","appRef","jugadorRef","ciudadRef","current","app","Application","width","window","innerWidth","height","innerHeight","backgroundColor","resolution","devicePixelRatio","autoDensity","view","document","createElement","appendChild","ciudad","jugador","stage","position","x","handleResize","renderer","resize","addEventListener","removeEventListener","removeChild","destroy","children","texture","baseTexture","ref","className","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/emalv/OneDrive/Desktop/Portafolio/cv-ciudad/src/components/Juego.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\r\nimport * as PIXI from 'pixi.js';\r\nimport './Juego.css';\r\nimport Jugador from './Jugador';\r\nimport Ciudad from './Ciudad';\r\n\r\nconst Juego = () => {\r\n  const gameRef = useRef(null);\r\n  const appRef = useRef(null);\r\n  const jugadorRef = useRef(null);\r\n  const ciudadRef = useRef(null);\r\n  \r\n  useEffect(() => {\r\n    // Verificar que el contenedor existe\r\n    if (!gameRef.current) return;\r\n    \r\n    // Configuración inicial de PixiJS\r\n    const app = new PIXI.Application({\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n      backgroundColor: 0x1099bb,\r\n      resolution: window.devicePixelRatio || 1,\r\n      autoDensity: true,\r\n      // Asegurarnos de que el canvas se adjunte después de la creación\r\n      view: document.createElement('canvas')\r\n    });\r\n    \r\n    // Adjuntar el canvas al contenedor\r\n    gameRef.current.appendChild(app.view);\r\n    appRef.current = app;\r\n    \r\n    // Crear la ciudad (escenario)\r\n    const ciudad = new Ciudad(app);\r\n    ciudadRef.current = ciudad;\r\n    \r\n    // Crear al jugador\r\n    const jugador = new Jugador(app, ciudad);\r\n    jugadorRef.current = jugador;\r\n    \r\n    // Configurar el scroll horizontal\r\n    app.stage.position.x = 0;\r\n    \r\n    // Manejar redimensionamiento\r\n    const handleResize = () => {\r\n      app.renderer.resize(window.innerWidth, window.innerHeight);\r\n    };\r\n    \r\n    window.addEventListener('resize', handleResize);\r\n    \r\n    // Función de limpieza\r\n    return () => {\r\n      window.removeEventListener('resize', handleResize);\r\n      // Eliminar el canvas correctamente\r\n      if (gameRef.current && app.view) {\r\n        gameRef.current.removeChild(app.view);\r\n      }\r\n      app.destroy(true, {\r\n        children: true,\r\n        texture: true,\r\n        baseTexture: true\r\n      });\r\n    };\r\n  }, []);\r\n  \r\n  return <div ref={gameRef} className=\"game-container\"></div>;\r\n};\r\n\r\nexport default Juego;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAChD,OAAO,KAAKC,IAAI,MAAM,SAAS;AAC/B,OAAO,aAAa;AACpB,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,MAAM,MAAM,UAAU;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE9B,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAMC,OAAO,GAAGR,MAAM,CAAC,IAAI,CAAC;EAC5B,MAAMS,MAAM,GAAGT,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAMU,UAAU,GAAGV,MAAM,CAAC,IAAI,CAAC;EAC/B,MAAMW,SAAS,GAAGX,MAAM,CAAC,IAAI,CAAC;EAE9BD,SAAS,CAAC,MAAM;IACd;IACA,IAAI,CAACS,OAAO,CAACI,OAAO,EAAE;;IAEtB;IACA,MAAMC,GAAG,GAAG,IAAIZ,IAAI,CAACa,WAAW,CAAC;MAC/BC,KAAK,EAAEC,MAAM,CAACC,UAAU;MACxBC,MAAM,EAAEF,MAAM,CAACG,WAAW;MAC1BC,eAAe,EAAE,QAAQ;MACzBC,UAAU,EAAEL,MAAM,CAACM,gBAAgB,IAAI,CAAC;MACxCC,WAAW,EAAE,IAAI;MACjB;MACAC,IAAI,EAAEC,QAAQ,CAACC,aAAa,CAAC,QAAQ;IACvC,CAAC,CAAC;;IAEF;IACAlB,OAAO,CAACI,OAAO,CAACe,WAAW,CAACd,GAAG,CAACW,IAAI,CAAC;IACrCf,MAAM,CAACG,OAAO,GAAGC,GAAG;;IAEpB;IACA,MAAMe,MAAM,GAAG,IAAIzB,MAAM,CAACU,GAAG,CAAC;IAC9BF,SAAS,CAACC,OAAO,GAAGgB,MAAM;;IAE1B;IACA,MAAMC,OAAO,GAAG,IAAI3B,OAAO,CAACW,GAAG,EAAEe,MAAM,CAAC;IACxClB,UAAU,CAACE,OAAO,GAAGiB,OAAO;;IAE5B;IACAhB,GAAG,CAACiB,KAAK,CAACC,QAAQ,CAACC,CAAC,GAAG,CAAC;;IAExB;IACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;MACzBpB,GAAG,CAACqB,QAAQ,CAACC,MAAM,CAACnB,MAAM,CAACC,UAAU,EAAED,MAAM,CAACG,WAAW,CAAC;IAC5D,CAAC;IAEDH,MAAM,CAACoB,gBAAgB,CAAC,QAAQ,EAAEH,YAAY,CAAC;;IAE/C;IACA,OAAO,MAAM;MACXjB,MAAM,CAACqB,mBAAmB,CAAC,QAAQ,EAAEJ,YAAY,CAAC;MAClD;MACA,IAAIzB,OAAO,CAACI,OAAO,IAAIC,GAAG,CAACW,IAAI,EAAE;QAC/BhB,OAAO,CAACI,OAAO,CAAC0B,WAAW,CAACzB,GAAG,CAACW,IAAI,CAAC;MACvC;MACAX,GAAG,CAAC0B,OAAO,CAAC,IAAI,EAAE;QAChBC,QAAQ,EAAE,IAAI;QACdC,OAAO,EAAE,IAAI;QACbC,WAAW,EAAE;MACf,CAAC,CAAC;IACJ,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,oBAAOrC,OAAA;IAAKsC,GAAG,EAAEnC,OAAQ;IAACoC,SAAS,EAAC;EAAgB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;AAC7D,CAAC;AAACzC,EAAA,CA3DID,KAAK;AAAA2C,EAAA,GAAL3C,KAAK;AA6DX,eAAeA,KAAK;AAAC,IAAA2C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}