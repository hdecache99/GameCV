{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emalv\\\\OneDrive\\\\Desktop\\\\Portafolio\\\\cv-ciudad\\\\src\\\\components\\\\Juego.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Application, Assets, Sprite, Container, TilingSprite, Text, TextStyle, Texture } from 'pixi.js';\nimport './Juego.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst bloqueContenidos = [`<h2>Experiencia Profesional</h2>‚Ä¶`,\n// 1\n`<h2>Educaci√≥n</h2>‚Ä¶`,\n// 2\n`<h2>Habilidades T√©cnicas</h2>‚Ä¶`,\n// 3\n`<h2>Idiomas</h2>‚Ä¶`,\n// 4\n`<h2>Contacto</h2>‚Ä¶`,\n// 5\n`<h2>Resumen Profesional</h2>‚Ä¶`,\n// 6\n`<h2>Proyectos Destacados</h2>‚Ä¶`,\n// 7\n`<h2>Herramientas</h2>‚Ä¶`,\n// 8\n`<h2>Habilidades Blandas</h2>‚Ä¶`,\n// 9\n`<h2>Experiencias Adicionales</h2>‚Ä¶` // 10\n];\nconst etiquetasBloques = ['Experiencia', 'Educaci√≥n', 'Habilidades', 'Idiomas', 'Contacto', 'Resumen', 'Proyectos', 'Herramientas', 'Soft Skills', 'Extras'];\nconst SPRITE_PATHS = [{\n  file: 'tile000.png',\n  alias: 'walk0'\n}, {\n  file: 'tile001.png',\n  alias: 'walk1'\n}, {\n  file: 'tile002.png',\n  alias: 'walk2'\n}, {\n  file: 'tile003.png',\n  alias: 'walk3'\n}, {\n  file: 'tile004.png',\n  alias: 'walk4'\n}, {\n  file: 'tile005.png',\n  alias: 'walk5'\n}, {\n  file: 'tile006.png',\n  alias: 'walk6'\n}, {\n  file: 'tile007.png',\n  alias: 'walk7'\n}];\nexport default function Juego() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [progress, setProgress] = useState(0);\n  const [modal, setModal] = useState({\n    visible: false,\n    content: ''\n  });\n  const [muted, setMuted] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const containerRef = useRef(null);\n  const audioRef = useRef(null);\n  const appRef = useRef(null);\n  const refs = {\n    velocity: useRef(0),\n    jumpVel: useRef(0),\n    jumping: useRef(false),\n    dir: useRef('right'),\n    mario: useRef(null),\n    world: useRef(null),\n    fondo: useRef(null),\n    bloques: useRef([]),\n    suelo: useRef(null)\n  };\n\n  // Fallback texture\n  const createFallback = (color = 0xff0000, w = 64, h = 64) => {\n    const cvs = document.createElement('canvas');\n    cvs.width = w;\n    cvs.height = h;\n    const ctx = cvs.getContext('2d');\n    ctx.fillStyle = `#${color.toString(16).padStart(6, '0')}`;\n    ctx.fillRect(0, 0, w, h);\n    return Texture.from(cvs);\n  };\n\n  // Detecta m√≥vil y Escape para cerrar modal\n  useEffect(() => {\n    const onResize = () => setIsMobile(window.innerWidth <= 768);\n    const onEsc = e => e.key === 'Escape' && modal.visible && setModal({\n      visible: false,\n      content: ''\n    });\n    window.addEventListener('resize', onResize);\n    window.addEventListener('keydown', onEsc);\n    onResize();\n    return () => {\n      window.removeEventListener('resize', onResize);\n      window.removeEventListener('keydown', onEsc);\n    };\n  }, [modal.visible]);\n  useEffect(() => {\n    document.body.style.overflow = 'hidden';\n\n    // Audio de fondo\n    audioRef.current = new Audio(process.env.PUBLIC_URL + '/assets/musica.mp3');\n    audioRef.current.loop = true;\n    audioRef.current.volume = 0.05;\n    const playOnInteract = () => {\n      audioRef.current.play().catch(() => {});\n      ['click', 'keydown', 'touchstart'].forEach(evt => document.removeEventListener(evt, playOnInteract));\n    };\n    ['click', 'keydown', 'touchstart'].forEach(evt => document.addEventListener(evt, playOnInteract));\n\n    // 1) Crear app SIN resizeTo\n    const app = new Application({\n      width: window.innerWidth,\n      height: window.innerHeight,\n      backgroundColor: 0x87ceeb,\n      resolution: window.devicePixelRatio || 1,\n      antialias: true\n    });\n    appRef.current = app;\n    containerRef.current.appendChild(app.view);\n\n    // Manejo manual de resize\n    const handleAppResize = () => {\n      app.renderer.resize(window.innerWidth, window.innerHeight);\n      // Reposiciona suelo\n      if (refs.suelo.current) {\n        refs.suelo.current.width = window.innerWidth * 2;\n        refs.suelo.current.y = window.innerHeight - 50;\n      }\n    };\n    window.addEventListener('resize', handleAppResize);\n    (async () => {\n      // Carga de assets\n      await Assets.init({\n        basePath: process.env.PUBLIC_URL + '/assets'\n      });\n      const list = [...SPRITE_PATHS, {\n        file: 'suelo.png',\n        alias: 'suelo'\n      }, {\n        file: 'fondo.png',\n        alias: 'fondo'\n      }, {\n        file: 'bloque.png',\n        alias: 'bloque'\n      }, {\n        file: 'nube.png',\n        alias: 'nube'\n      }, {\n        file: 'farol.png',\n        alias: 'farol'\n      }, {\n        file: 'arbusto.png',\n        alias: 'arbusto'\n      }];\n      for (let i = 0; i < list.length; i++) {\n        const {\n          file,\n          alias\n        } = list[i];\n        try {\n          await Assets.load({\n            src: file,\n            alias\n          });\n        } catch {\n          Assets.cache.add(alias, createFallback());\n        }\n        setProgress(Math.round((i + 1) / list.length * 100));\n      }\n      setLoading(false);\n\n      // Texturas\n      const T = key => Assets.get(key);\n      const framesL = ['walk0', 'walk1', 'walk2', 'walk3'].map(T);\n      const framesR = ['walk7', 'walk6', 'walk5', 'walk4'].map(T);\n\n      // Suelo infinito\n      const suelo = new TilingSprite(T('suelo'), window.innerWidth * 2, 100);\n      suelo.y = window.innerHeight - 50;\n      app.stage.addChild(suelo);\n      refs.suelo.current = suelo;\n\n      // Fondo parallax\n      const fondo = new TilingSprite(T('fondo'), 6000, window.innerHeight);\n      fondo.zIndex = -1;\n      app.stage.addChild(fondo);\n      refs.fondo.current = fondo;\n\n      // Mundo\n      const world = new Container();\n      app.stage.addChild(world);\n      refs.world.current = world;\n\n      // Nubes\n      for (let i = 0; i < 10; i++) {\n        const nube = new Sprite(T('nube'));\n        nube.position.set(i * 800, 80 + Math.random() * 20);\n        nube.scale.set(0.5);\n        world.addChild(nube);\n      }\n\n      // Bloques interactivos\n      etiquetasBloques.forEach((etq, i) => {\n        const b = new Sprite(T('bloque'));\n        b.scale.set(0.05);\n        b.position.set(900 + i * 400, window.innerHeight - 280);\n        b.interactive = true;\n        b.on('pointerdown', () => {\n          setModal({\n            visible: true,\n            content: bloqueContenidos[i]\n          });\n        });\n        world.addChild(b);\n        refs.bloques.current.push(b);\n        const label = new Text(etq, new TextStyle({\n          fontFamily: 'Arial',\n          fontSize: 18,\n          fill: 'white',\n          stroke: '#000',\n          strokeThickness: 3\n        }));\n        label.anchor.set(0.5);\n        label.position.set(b.x + b.width / 2, b.y - 40);\n        world.addChild(label);\n      });\n\n      // Mario\n      const mario = new Sprite(framesR[0]);\n      mario.anchor.set(0.5, 1);\n      mario.position.set(app.screen.width / 4, window.innerHeight - 50);\n      mario.scale.set(0.58);\n      world.addChild(mario);\n      refs.mario.current = mario;\n\n      // Loop de juego\n      let frame = 0,\n        counter = 0;\n      const gravity = 1.5,\n        jumpF = -25,\n        speed = 10;\n      app.ticker.add(delta => {\n        const vel = refs.velocity.current;\n        const dir = refs.dir.current;\n\n        // Animaci√≥n caminar\n        if (vel !== 0) {\n          counter += delta;\n          if (counter >= 10) {\n            counter = 0;\n            frame = (frame + 1) % 4;\n            mario.texture = dir === 'right' ? framesR[frame] : framesL[frame];\n          }\n        } else {\n          mario.texture = dir === 'right' ? framesR[0] : framesL[0];\n        }\n\n        // Saltar\n        if (refs.jumping.current) {\n          mario.y += refs.jumpVel.current;\n          refs.jumpVel.current += gravity;\n          if (mario.y >= window.innerHeight - 50) {\n            mario.y = window.innerHeight - 50;\n            refs.jumping.current = false;\n            refs.jumpVel.current = 0;\n          }\n        }\n\n        // Scroll vs Mario\n        const dx = vel * speed * (delta / 16.67);\n        const worldLeft = 0;\n        const worldRight = -(world.width - app.screen.width);\n        const leftT = app.screen.width * 0.3;\n        const rightT = app.screen.width * 0.7;\n        if (vel < 0) {\n          if (mario.x > leftT || world.x >= worldLeft) mario.x += dx;else {\n            world.x -= dx;\n            fondo.tilePosition.x += dx * 0.2;\n          }\n        } else if (vel > 0) {\n          if (mario.x < rightT || world.x <= worldRight) mario.x += dx;else {\n            world.x -= dx;\n            fondo.tilePosition.x += dx * 0.2;\n          }\n        }\n        mario.x = Math.max(0, Math.min(app.screen.width, mario.x));\n        world.x = Math.max(worldRight, Math.min(worldLeft, world.x));\n      });\n\n      // Teclado\n      const onKeyDown = e => {\n        if (modal.visible) return;\n        if (e.key === 'ArrowRight') {\n          refs.velocity.current = 1;\n          refs.dir.current = 'right';\n        }\n        if (e.key === 'ArrowLeft') {\n          refs.velocity.current = -1;\n          refs.dir.current = 'left';\n        }\n        if ((e.key === 'ArrowUp' || e.key === ' ') && !refs.jumping.current) {\n          var _window$navigator$vib, _window$navigator;\n          refs.jumping.current = true;\n          refs.jumpVel.current = jumpF;\n          (_window$navigator$vib = (_window$navigator = window.navigator).vibrate) === null || _window$navigator$vib === void 0 ? void 0 : _window$navigator$vib.call(_window$navigator, 30);\n        }\n      };\n      const onKeyUp = e => {\n        if (['ArrowRight', 'ArrowLeft'].includes(e.key)) refs.velocity.current = 0;\n      };\n      window.addEventListener('keydown', onKeyDown);\n      window.addEventListener('keyup', onKeyUp);\n\n      // Touch m√≥vil\n      const setupTouch = () => {\n        ['left', 'up', 'right'].forEach(dir => {\n          const btn = document.querySelector(`.mobile-button.${dir}`);\n          if (!btn) return;\n          btn.addEventListener('touchstart', ev => {\n            var _window$navigator$vib2, _window$navigator2;\n            ev.preventDefault();\n            if (dir === 'left') {\n              refs.velocity.current = -1;\n              refs.dir.current = 'left';\n            }\n            if (dir === 'right') {\n              refs.velocity.current = 1;\n              refs.dir.current = 'right';\n            }\n            if (dir === 'up' && !refs.jumping.current) {\n              refs.jumping.current = true;\n              refs.jumpVel.current = jumpF;\n            }\n            (_window$navigator$vib2 = (_window$navigator2 = window.navigator).vibrate) === null || _window$navigator$vib2 === void 0 ? void 0 : _window$navigator$vib2.call(_window$navigator2, 20);\n          });\n          btn.addEventListener('touchend', ev => {\n            ev.preventDefault();\n            if (dir !== 'up') refs.velocity.current = 0;\n          });\n        });\n      };\n      if (isMobile) setTimeout(setupTouch, 100);\n\n      // Cleanup\n      return () => {\n        window.removeEventListener('resize', handleAppResize);\n        window.removeEventListener('keydown', onKeyDown);\n        window.removeEventListener('keyup', onKeyUp);\n        app.destroy(true, {\n          children: true\n        });\n        document.body.style.overflow = '';\n      };\n    })();\n  }, [isMobile, modal.visible]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        style: {\n          width: `${progress}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 336,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-text\",\n        children: [\"Cargando\\u2026 \", progress, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 335,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header-juego\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Emanuel Alvarado Guzman\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 342,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Full Stack & Data Analyst\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"redes\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            const a = audioRef.current;\n            if (a) {\n              a.muted = !a.muted;\n              setMuted(a.muted);\n            }\n          },\n          children: muted ? 'üîá' : 'üîä'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"pixi-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this), modal.visible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        role: \"dialog\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close\",\n          onClick: () => setModal({\n            visible: false,\n            content: ''\n          }),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: modal.content\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"modal-hint\",\n          children: \"(Esc para cerrar)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }, this), isMobile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mobile-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mobile-button left\",\n        \"aria-label\": \"Izquierda\",\n        children: \"\\u2B05\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mobile-button up\",\n        \"aria-label\": \"Saltar\",\n        children: \"\\u2B06\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mobile-button right\",\n        \"aria-label\": \"Derecha\",\n        children: \"\\u27A1\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 333,\n    columnNumber: 5\n  }, this);\n}\n_s(Juego, \"p6w01eRmPsb1UsGEzz8ktW3kMzU=\");\n_c = Juego;\nvar _c;\n$RefreshReg$(_c, \"Juego\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Application","Assets","Sprite","Container","TilingSprite","Text","TextStyle","Texture","jsxDEV","_jsxDEV","bloqueContenidos","etiquetasBloques","SPRITE_PATHS","file","alias","Juego","_s","loading","setLoading","progress","setProgress","modal","setModal","visible","content","muted","setMuted","isMobile","setIsMobile","containerRef","audioRef","appRef","refs","velocity","jumpVel","jumping","dir","mario","world","fondo","bloques","suelo","createFallback","color","w","h","cvs","document","createElement","width","height","ctx","getContext","fillStyle","toString","padStart","fillRect","from","onResize","window","innerWidth","onEsc","e","key","addEventListener","removeEventListener","body","style","overflow","current","Audio","process","env","PUBLIC_URL","loop","volume","playOnInteract","play","catch","forEach","evt","app","innerHeight","backgroundColor","resolution","devicePixelRatio","antialias","appendChild","view","handleAppResize","renderer","resize","y","init","basePath","list","i","length","load","src","cache","add","Math","round","T","get","framesL","map","framesR","stage","addChild","zIndex","nube","position","set","random","scale","etq","b","interactive","on","push","label","fontFamily","fontSize","fill","stroke","strokeThickness","anchor","x","screen","frame","counter","gravity","jumpF","speed","ticker","delta","vel","texture","dx","worldLeft","worldRight","leftT","rightT","tilePosition","max","min","onKeyDown","_window$navigator$vib","_window$navigator","navigator","vibrate","call","onKeyUp","includes","setupTouch","btn","querySelector","ev","_window$navigator$vib2","_window$navigator2","preventDefault","setTimeout","destroy","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","a","ref","role","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["C:/Users/emalv/OneDrive/Desktop/Portafolio/cv-ciudad/src/components/Juego.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  Application,\r\n  Assets,\r\n  Sprite,\r\n  Container,\r\n  TilingSprite,\r\n  Text,\r\n  TextStyle,\r\n  Texture\r\n} from 'pixi.js';\r\nimport './Juego.css';\r\n\r\nconst bloqueContenidos = [\r\n  `<h2>Experiencia Profesional</h2>‚Ä¶`,    // 1\r\n  `<h2>Educaci√≥n</h2>‚Ä¶`,                  // 2\r\n  `<h2>Habilidades T√©cnicas</h2>‚Ä¶`,       // 3\r\n  `<h2>Idiomas</h2>‚Ä¶`,                     // 4\r\n  `<h2>Contacto</h2>‚Ä¶`,                    // 5\r\n  `<h2>Resumen Profesional</h2>‚Ä¶`,         // 6\r\n  `<h2>Proyectos Destacados</h2>‚Ä¶`,        // 7\r\n  `<h2>Herramientas</h2>‚Ä¶`,                // 8\r\n  `<h2>Habilidades Blandas</h2>‚Ä¶`,         // 9\r\n  `<h2>Experiencias Adicionales</h2>‚Ä¶`,    // 10\r\n];\r\n\r\nconst etiquetasBloques = [\r\n  'Experiencia',\r\n  'Educaci√≥n',\r\n  'Habilidades',\r\n  'Idiomas',\r\n  'Contacto',\r\n  'Resumen',\r\n  'Proyectos',\r\n  'Herramientas',\r\n  'Soft Skills',\r\n  'Extras',\r\n];\r\n\r\nconst SPRITE_PATHS = [\r\n  { file: 'tile000.png', alias: 'walk0' },\r\n  { file: 'tile001.png', alias: 'walk1' },\r\n  { file: 'tile002.png', alias: 'walk2' },\r\n  { file: 'tile003.png', alias: 'walk3' },\r\n  { file: 'tile004.png', alias: 'walk4' },\r\n  { file: 'tile005.png', alias: 'walk5' },\r\n  { file: 'tile006.png', alias: 'walk6' },\r\n  { file: 'tile007.png', alias: 'walk7' },\r\n];\r\n\r\nexport default function Juego() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [progress, setProgress] = useState(0);\r\n  const [modal, setModal] = useState({ visible: false, content: '' });\r\n  const [muted, setMuted] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  const containerRef = useRef(null);\r\n  const audioRef = useRef(null);\r\n  const appRef = useRef(null);\r\n  const refs = {\r\n    velocity: useRef(0),\r\n    jumpVel: useRef(0),\r\n    jumping: useRef(false),\r\n    dir: useRef('right'),\r\n    mario: useRef(null),\r\n    world: useRef(null),\r\n    fondo: useRef(null),\r\n    bloques: useRef([]),\r\n    suelo: useRef(null),\r\n  };\r\n\r\n  // Fallback texture\r\n  const createFallback = (color = 0xff0000, w = 64, h = 64) => {\r\n    const cvs = document.createElement('canvas');\r\n    cvs.width = w;\r\n    cvs.height = h;\r\n    const ctx = cvs.getContext('2d');\r\n    ctx.fillStyle = `#${color.toString(16).padStart(6, '0')}`;\r\n    ctx.fillRect(0, 0, w, h);\r\n    return Texture.from(cvs);\r\n  };\r\n\r\n  // Detecta m√≥vil y Escape para cerrar modal\r\n  useEffect(() => {\r\n    const onResize = () => setIsMobile(window.innerWidth <= 768);\r\n    const onEsc = e =>\r\n      e.key === 'Escape' && modal.visible && setModal({ visible: false, content: '' });\r\n\r\n    window.addEventListener('resize', onResize);\r\n    window.addEventListener('keydown', onEsc);\r\n    onResize();\r\n    return () => {\r\n      window.removeEventListener('resize', onResize);\r\n      window.removeEventListener('keydown', onEsc);\r\n    };\r\n  }, [modal.visible]);\r\n\r\n  useEffect(() => {\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    // Audio de fondo\r\n    audioRef.current = new Audio(process.env.PUBLIC_URL + '/assets/musica.mp3');\r\n    audioRef.current.loop = true;\r\n    audioRef.current.volume = 0.05;\r\n    const playOnInteract = () => {\r\n      audioRef.current.play().catch(() => {});\r\n      ['click', 'keydown', 'touchstart'].forEach(evt =>\r\n        document.removeEventListener(evt, playOnInteract)\r\n      );\r\n    };\r\n    ['click', 'keydown', 'touchstart'].forEach(evt =>\r\n      document.addEventListener(evt, playOnInteract)\r\n    );\r\n\r\n    // 1) Crear app SIN resizeTo\r\n    const app = new Application({\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n      backgroundColor: 0x87ceeb,\r\n      resolution: window.devicePixelRatio || 1,\r\n      antialias: true,\r\n    });\r\n    appRef.current = app;\r\n    containerRef.current.appendChild(app.view);\r\n\r\n    // Manejo manual de resize\r\n    const handleAppResize = () => {\r\n      app.renderer.resize(window.innerWidth, window.innerHeight);\r\n      // Reposiciona suelo\r\n      if (refs.suelo.current) {\r\n        refs.suelo.current.width = window.innerWidth * 2;\r\n        refs.suelo.current.y = window.innerHeight - 50;\r\n      }\r\n    };\r\n    window.addEventListener('resize', handleAppResize);\r\n\r\n    (async () => {\r\n      // Carga de assets\r\n      await Assets.init({ basePath: process.env.PUBLIC_URL + '/assets' });\r\n      const list = [\r\n        ...SPRITE_PATHS,\r\n        { file: 'suelo.png', alias: 'suelo' },\r\n        { file: 'fondo.png', alias: 'fondo' },\r\n        { file: 'bloque.png', alias: 'bloque' },\r\n        { file: 'nube.png', alias: 'nube' },\r\n        { file: 'farol.png', alias: 'farol' },\r\n        { file: 'arbusto.png', alias: 'arbusto' },\r\n      ];\r\n      for (let i = 0; i < list.length; i++) {\r\n        const { file, alias } = list[i];\r\n        try {\r\n          await Assets.load({ src: file, alias });\r\n        } catch {\r\n          Assets.cache.add(alias, createFallback());\r\n        }\r\n        setProgress(Math.round(((i + 1) / list.length) * 100));\r\n      }\r\n      setLoading(false);\r\n\r\n      // Texturas\r\n      const T = key => Assets.get(key);\r\n      const framesL = ['walk0', 'walk1', 'walk2', 'walk3'].map(T);\r\n      const framesR = ['walk7', 'walk6', 'walk5', 'walk4'].map(T);\r\n\r\n      // Suelo infinito\r\n      const suelo = new TilingSprite(T('suelo'), window.innerWidth * 2, 100);\r\n      suelo.y = window.innerHeight - 50;\r\n      app.stage.addChild(suelo);\r\n      refs.suelo.current = suelo;\r\n\r\n      // Fondo parallax\r\n      const fondo = new TilingSprite(T('fondo'), 6000, window.innerHeight);\r\n      fondo.zIndex = -1;\r\n      app.stage.addChild(fondo);\r\n      refs.fondo.current = fondo;\r\n\r\n      // Mundo\r\n      const world = new Container();\r\n      app.stage.addChild(world);\r\n      refs.world.current = world;\r\n\r\n      // Nubes\r\n      for (let i = 0; i < 10; i++) {\r\n        const nube = new Sprite(T('nube'));\r\n        nube.position.set(i * 800, 80 + Math.random() * 20);\r\n        nube.scale.set(0.5);\r\n        world.addChild(nube);\r\n      }\r\n\r\n      // Bloques interactivos\r\n      etiquetasBloques.forEach((etq, i) => {\r\n        const b = new Sprite(T('bloque'));\r\n        b.scale.set(0.05);\r\n        b.position.set(900 + i * 400, window.innerHeight - 280);\r\n        b.interactive = true;\r\n        b.on('pointerdown', () => {\r\n          setModal({ visible: true, content: bloqueContenidos[i] });\r\n        });\r\n        world.addChild(b);\r\n        refs.bloques.current.push(b);\r\n\r\n        const label = new Text(etq, new TextStyle({\r\n          fontFamily: 'Arial',\r\n          fontSize: 18,\r\n          fill: 'white',\r\n          stroke: '#000',\r\n          strokeThickness: 3,\r\n        }));\r\n        label.anchor.set(0.5);\r\n        label.position.set(b.x + b.width / 2, b.y - 40);\r\n        world.addChild(label);\r\n      });\r\n\r\n      // Mario\r\n      const mario = new Sprite(framesR[0]);\r\n      mario.anchor.set(0.5, 1);\r\n      mario.position.set(app.screen.width / 4, window.innerHeight - 50);\r\n      mario.scale.set(0.58);\r\n      world.addChild(mario);\r\n      refs.mario.current = mario;\r\n\r\n      // Loop de juego\r\n      let frame = 0,\r\n        counter = 0;\r\n      const gravity = 1.5,\r\n        jumpF = -25,\r\n        speed = 10;\r\n\r\n      app.ticker.add(delta => {\r\n        const vel = refs.velocity.current;\r\n        const dir = refs.dir.current;\r\n\r\n        // Animaci√≥n caminar\r\n        if (vel !== 0) {\r\n          counter += delta;\r\n          if (counter >= 10) {\r\n            counter = 0;\r\n            frame = (frame + 1) % 4;\r\n            mario.texture = dir === 'right' ? framesR[frame] : framesL[frame];\r\n          }\r\n        } else {\r\n          mario.texture = dir === 'right' ? framesR[0] : framesL[0];\r\n        }\r\n\r\n        // Saltar\r\n        if (refs.jumping.current) {\r\n          mario.y += refs.jumpVel.current;\r\n          refs.jumpVel.current += gravity;\r\n          if (mario.y >= window.innerHeight - 50) {\r\n            mario.y = window.innerHeight - 50;\r\n            refs.jumping.current = false;\r\n            refs.jumpVel.current = 0;\r\n          }\r\n        }\r\n\r\n        // Scroll vs Mario\r\n        const dx = vel * speed * (delta / 16.67);\r\n        const worldLeft = 0;\r\n        const worldRight = -(world.width - app.screen.width);\r\n        const leftT = app.screen.width * 0.3;\r\n        const rightT = app.screen.width * 0.7;\r\n\r\n        if (vel < 0) {\r\n          if (mario.x > leftT || world.x >= worldLeft) mario.x += dx;\r\n          else {\r\n            world.x -= dx;\r\n            fondo.tilePosition.x += dx * 0.2;\r\n          }\r\n        } else if (vel > 0) {\r\n          if (mario.x < rightT || world.x <= worldRight) mario.x += dx;\r\n          else {\r\n            world.x -= dx;\r\n            fondo.tilePosition.x += dx * 0.2;\r\n          }\r\n        }\r\n\r\n        mario.x = Math.max(0, Math.min(app.screen.width, mario.x));\r\n        world.x = Math.max(worldRight, Math.min(worldLeft, world.x));\r\n      });\r\n\r\n      // Teclado\r\n      const onKeyDown = e => {\r\n        if (modal.visible) return;\r\n        if (e.key === 'ArrowRight') { refs.velocity.current = 1; refs.dir.current = 'right'; }\r\n        if (e.key === 'ArrowLeft')  { refs.velocity.current = -1; refs.dir.current = 'left'; }\r\n        if ((e.key === 'ArrowUp' || e.key === ' ') && !refs.jumping.current) {\r\n          refs.jumping.current = true;\r\n          refs.jumpVel.current = jumpF;\r\n          window.navigator.vibrate?.(30);\r\n        }\r\n      };\r\n      const onKeyUp = e => {\r\n        if (['ArrowRight','ArrowLeft'].includes(e.key)) refs.velocity.current = 0;\r\n      };\r\n      window.addEventListener('keydown', onKeyDown);\r\n      window.addEventListener('keyup', onKeyUp);\r\n\r\n      // Touch m√≥vil\r\n      const setupTouch = () => {\r\n        ['left','up','right'].forEach(dir=>{\r\n          const btn = document.querySelector(`.mobile-button.${dir}`);\r\n          if (!btn) return;\r\n          btn.addEventListener('touchstart', ev=>{\r\n            ev.preventDefault();\r\n            if (dir==='left')  { refs.velocity.current=-1; refs.dir.current='left'; }\r\n            if (dir==='right') { refs.velocity.current=1;  refs.dir.current='right'; }\r\n            if (dir==='up' && !refs.jumping.current) {\r\n              refs.jumping.current = true; refs.jumpVel.current = jumpF;\r\n            }\r\n            window.navigator.vibrate?.(20);\r\n          });\r\n          btn.addEventListener('touchend', ev=>{\r\n            ev.preventDefault();\r\n            if (dir!=='up') refs.velocity.current = 0;\r\n          });\r\n        });\r\n      };\r\n      if (isMobile) setTimeout(setupTouch, 100);\r\n\r\n      // Cleanup\r\n      return () => {\r\n        window.removeEventListener('resize', handleAppResize);\r\n        window.removeEventListener('keydown', onKeyDown);\r\n        window.removeEventListener('keyup', onKeyUp);\r\n        app.destroy(true, { children: true });\r\n        document.body.style.overflow = '';\r\n      };\r\n    })();\r\n  }, [isMobile, modal.visible]);\r\n\r\n  return (\r\n    <div className=\"game-container\">\r\n      {loading && (\r\n        <div className=\"loading-screen\">\r\n          <div className=\"progress-bar\" style={{ width: `${progress}%` }} />\r\n          <div className=\"progress-text\">Cargando‚Ä¶ {progress}%</div>\r\n        </div>\r\n      )}\r\n\r\n      <header className=\"header-juego\">\r\n        <h1>Emanuel Alvarado Guzman</h1>\r\n        <p>Full Stack & Data Analyst</p>\r\n        <div className=\"redes\">\r\n          {/* tus enlaces aqu√≠ */}\r\n          <button onClick={() => {\r\n            const a = audioRef.current;\r\n            if (a) { a.muted = !a.muted; setMuted(a.muted); }\r\n          }}>\r\n            {muted ? 'üîá' : 'üîä'}\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div ref={containerRef} className=\"pixi-container\" />\r\n\r\n      {modal.visible && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\" role=\"dialog\">\r\n            <span className=\"close\" onClick={() => setModal({ visible: false, content: '' })}>\r\n              &times;\r\n            </span>\r\n            <div dangerouslySetInnerHTML={{ __html: modal.content }} />\r\n            <p className=\"modal-hint\">(Esc para cerrar)</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {isMobile && (\r\n        <div className=\"mobile-controls\">\r\n          <button className=\"mobile-button left\" aria-label=\"Izquierda\">‚¨ÖÔ∏è</button>\r\n          <button className=\"mobile-button up\" aria-label=\"Saltar\">‚¨ÜÔ∏è</button>\r\n          <button className=\"mobile-button right\" aria-label=\"Derecha\">‚û°Ô∏è</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}