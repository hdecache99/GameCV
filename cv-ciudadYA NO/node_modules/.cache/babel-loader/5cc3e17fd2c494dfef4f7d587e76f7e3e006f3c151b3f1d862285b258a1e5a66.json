{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emalv\\\\OneDrive\\\\Desktop\\\\Portafolio\\\\cv-ciudad\\\\src\\\\components\\\\Juego.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Application, Assets, Sprite, Container, TilingSprite, Text, TextStyle, Texture } from 'pixi.js';\nimport './Juego.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Juego = () => {\n  _s();\n  // State management\n  const [loading, setLoading] = useState(true);\n  const [loadProgress, setLoadProgress] = useState(0);\n  const [modalVisible, setModalVisible] = useState(false);\n  const [modalContent, setModalContent] = useState('');\n  const [muted, setMuted] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n\n  // Refs\n  const containerRef = useRef(null);\n  const audioRef = useRef(null);\n  const velocityRef = useRef(0);\n  const jumpVelocityRef = useRef(0);\n  const isJumpingRef = useRef(false);\n  const directionRef = useRef('right');\n  const appRef = useRef(null);\n  const marioRef = useRef(null);\n  const worldRef = useRef(null);\n  const fondoRef = useRef(null);\n  const bloquesRef = useRef([]);\n\n  // Content for the blocks\n  const bloqueContenidos = ['<h2>Experiencia</h2><p>5 a√±os desarrollando aplicaciones web y m√≥viles...</p>', '<h2>Educaci√≥n</h2><p>Ingenier√≠a en Sistemas en Universidad X...</p>', '<h2>Habilidades</h2><p>JavaScript, React, Node.js, Python...</p>', '<h2>Idiomas</h2><p>Espa√±ol (nativo), Ingl√©s (avanzado)...</p>', '<h2>Contacto</h2><p>Email: ejemplo@email.com<br>Tel: +123456789</p>', '<h2>Resumen</h2><p>Desarrollador full stack con experiencia...</p>', '<h2>Proyectos</h2><p>Portafolio de proyectos destacados...</p>', '<h2>Herramientas</h2><p>Git, Docker, AWS, Figma...</p>', '<h2>Soft Skills</h2><p>Trabajo en equipo, comunicaci√≥n...</p>', '<h2>Extras</h2><p>Certificaciones, cursos, voluntariado...</p>'];\n  const etiquetasBloques = ['Experiencia', 'Educaci√≥n', 'Habilidades', 'Idiomas', 'Contacto', 'Resumen', 'Proyectos', 'Herramientas', 'Soft Skills', 'Extras'];\n\n  // Handle escape key for modal\n  useEffect(() => {\n    const handleEscape = e => {\n      if (e.key === 'Escape' && modalVisible) {\n        setModalVisible(false);\n      }\n    };\n    window.addEventListener('keydown', handleEscape);\n    return () => window.removeEventListener('keydown', handleEscape);\n  }, [modalVisible]);\n\n  // Check for mobile devices\n  useEffect(() => {\n    const checkMobile = () => {\n      setIsMobile(window.innerWidth <= 768);\n    };\n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  // Create fallback texture\n  const createFallbackTexture = (color = 0xff0000, width = 64, height = 64) => {\n    const canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    const ctx = canvas.getContext('2d');\n    ctx.fillStyle = `#${color.toString(16).padStart(6, '0')}`;\n    ctx.fillRect(0, 0, width, height);\n    ctx.strokeStyle = '#000000';\n    ctx.lineWidth = 2;\n    ctx.strokeRect(0, 0, width, height);\n    return Texture.from(canvas);\n  };\n\n  // Main game setup\n  useEffect(() => {\n    // Disable scroll\n    document.body.style.overflow = 'hidden';\n    document.documentElement.style.overflow = 'hidden';\n\n    // Audio setup\n    const setupAudio = () => {\n      try {\n        audioRef.current = new Audio(process.env.PUBLIC_URL + '/assets/musica.mp3');\n        audioRef.current.loop = true;\n        audioRef.current.volume = 0.05;\n        const handleFirstInteraction = () => {\n          audioRef.current.play().catch(console.warn);\n          ['click', 'keydown', 'touchstart'].forEach(evt => document.removeEventListener(evt, handleFirstInteraction));\n        };\n        ['click', 'keydown', 'touchstart'].forEach(evt => document.addEventListener(evt, handleFirstInteraction));\n      } catch (error) {\n        console.error('Error al configurar audio:', error);\n      }\n    };\n    setupAudio();\n    const cargarJuego = async () => {\n      try {\n        // Required assets with fallback colors\n        const requiredAssets = {\n          'bloque.png': {\n            alias: 'bloque',\n            fallbackColor: 0x8B4513\n          },\n          'suelo.png': {\n            alias: 'suelo',\n            fallbackColor: 0x228B22\n          },\n          'ciudad.png': {\n            alias: 'fondo',\n            fallbackColor: 0x87CEEB\n          },\n          'nube.png': {\n            alias: 'nube',\n            fallbackColor: 0xFFFFFF\n          },\n          'farol.png': {\n            alias: 'farol',\n            fallbackColor: 0xFFD700\n          },\n          'arbusto.png': {\n            alias: 'arbusto',\n            fallbackColor: 0x006400\n          },\n          'tile000.png': {\n            alias: 'walk0',\n            fallbackColor: 0xFF0000\n          },\n          'tile001.png': {\n            alias: 'walk1',\n            fallbackColor: 0xFF7F00\n          },\n          'tile002.png': {\n            alias: 'walk2',\n            fallbackColor: 0xFFFF00\n          },\n          'tile003.png': {\n            alias: 'walk3',\n            fallbackColor: 0x00FF00\n          },\n          'tile004.png': {\n            alias: 'walk4',\n            fallbackColor: 0x0000FF\n          },\n          'tile005.png': {\n            alias: 'walk5',\n            fallbackColor: 0x4B0082\n          },\n          'tile006.png': {\n            alias: 'walk6',\n            fallbackColor: 0x9400D3\n          },\n          'tile007.png': {\n            alias: 'walk7',\n            fallbackColor: 0xFF1493\n          }\n        };\n\n        // Initialize PixiJS\n        const app = new Application();\n        await app.init({\n          width: window.innerWidth,\n          height: window.innerHeight,\n          backgroundColor: 0x87ceeb,\n          resolution: window.devicePixelRatio || 1,\n          resizeTo: window,\n          antialias: true\n        });\n        appRef.current = app;\n        containerRef.current.appendChild(app.canvas);\n\n        // Setup assets with enhanced error handling\n        Assets.init({\n          basePath: process.env.PUBLIC_URL + '/assets',\n          preferWorkers: true\n        });\n\n        // Custom loader with fallback\n        const loadAsset = async (src, alias, fallbackColor) => {\n          try {\n            await Assets.load({\n              src,\n              alias\n            });\n            const texture = Assets.get(alias);\n            if (!texture.valid) throw new Error('Texture not valid');\n            return texture;\n          } catch (error) {\n            console.warn(`Fallback created for ${src}:`, error);\n            return createFallbackTexture(fallbackColor);\n          }\n        };\n\n        // Load all assets with progress tracking\n        const assetPromises = Object.entries(requiredAssets).map(([src, {\n          alias,\n          fallbackColor\n        }], index) => {\n          return loadAsset(src, alias, fallbackColor).then(() => {\n            setLoadProgress(Math.round((index + 1) / Object.keys(requiredAssets).length * 100));\n          });\n        });\n        await Promise.all(assetPromises);\n        setLoading(false);\n\n        // Get textures\n        const textures = {\n          bloque: Assets.get('bloque'),\n          suelo: Assets.get('suelo'),\n          fondo: Assets.get('fondo'),\n          nube: Assets.get('nube'),\n          farol: Assets.get('farol'),\n          arbusto: Assets.get('arbusto'),\n          walk0: Assets.get('walk0'),\n          walk1: Assets.get('walk1'),\n          walk2: Assets.get('walk2'),\n          walk3: Assets.get('walk3'),\n          walk4: Assets.get('walk4'),\n          walk5: Assets.get('walk5'),\n          walk6: Assets.get('walk6'),\n          walk7: Assets.get('walk7')\n        };\n        const framesLeft = [textures.walk0, textures.walk1, textures.walk2, textures.walk3];\n        const framesRight = [textures.walk7, textures.walk6, textures.walk5, textures.walk4];\n\n        // Setup background\n        const fondo = new TilingSprite(textures.fondo, 6000, app.screen.height);\n        fondo.zIndex = -1;\n        fondoRef.current = fondo;\n        app.stage.addChild(fondo);\n\n        // Create world container\n        const world = new Container();\n        worldRef.current = world;\n        app.stage.addChild(world);\n\n        // Welcome cloud\n        const nubeInicio = new Sprite(textures.nube);\n        nubeInicio.position.set(200, 200);\n        nubeInicio.scale.set(0.8);\n        nubeInicio.alpha = 0.9;\n        world.addChild(nubeInicio);\n        const bienvenidaText = new Text('¬°Bienvenido!\\nUsa flechas para moverte\\nEscape para cerrar modales', new TextStyle({\n          fontFamily: 'Arial',\n          fontSize: 16,\n          fill: 'black',\n          align: 'center',\n          wordWrap: true,\n          wordWrapWidth: 200\n        }));\n        bienvenidaText.anchor.set(0.5);\n        bienvenidaText.position.set(nubeInicio.x + nubeInicio.width / 2, nubeInicio.y + nubeInicio.height / 2);\n        world.addChild(bienvenidaText);\n\n        // Clouds\n        for (let i = 0; i < 10; i++) {\n          const nube = new Sprite(textures.nube);\n          nube.position.set(i * 800, 80 + Math.random() * 20);\n          nube.alpha = 0.9;\n          nube.scale.set(0.5);\n          world.addChild(nube);\n        }\n\n        // Ground\n        for (let i = 0; i < 100; i++) {\n          const suelo = new Sprite(textures.suelo);\n          suelo.scale.set(0.4);\n          suelo.position.set(i * (suelo.width * 0.3), 750);\n          world.addChild(suelo);\n        }\n\n        // Interactive blocks\n        const bloques = [];\n        bloquesRef.current = bloques;\n        for (let i = 0; i < 10; i++) {\n          const bloque = new Sprite(textures.bloque);\n          bloque.scale.set(0.05);\n          bloque.position.set(900 + i * 400, 470);\n          bloque.eventMode = 'static';\n          bloque.cursor = 'pointer';\n          bloque.bloqueID = i + 1;\n          world.addChild(bloque);\n          bloques.push(bloque);\n          const textoBurbuja = new Text(etiquetasBloques[i], new TextStyle({\n            fontFamily: 'Arial',\n            fontSize: 18,\n            fill: 'white',\n            stroke: '#000',\n            strokeThickness: 3,\n            align: 'center'\n          }));\n          textoBurbuja.anchor.set(0.5);\n          textoBurbuja.position.set(bloque.x + bloque.width * 0.5, bloque.y - 40);\n          world.addChild(textoBurbuja);\n        }\n\n        // Decorative elements\n        for (let i = 0; i < 5; i++) {\n          const farol = new Sprite(textures.farol);\n          farol.scale.set(0.58);\n          farol.position.set(600 + i * 800, 433);\n          world.addChild(farol);\n        }\n        for (let i = 0; i < 8; i++) {\n          const arbusto = new Sprite(textures.arbusto);\n          arbusto.position.set(300 + i * 600, 495);\n          world.addChild(arbusto);\n        }\n\n        // Character\n        const mario = new Sprite(framesRight[0]);\n        mario.scale.set(0.58);\n        mario.position.set(app.screen.width / 4, 750);\n        mario.anchor.set(0.5, 1);\n        marioRef.current = mario;\n        world.addChild(mario);\n\n        // Game constants\n        const GRAVITY = 1.5;\n        const JUMP_FORCE = -25;\n        const MOVE_SPEED = 10;\n        const FRICTION = 0.9;\n        const WORLD_WIDTH = bloques[bloques.length - 1].x + 800;\n        const SCREEN_WIDTH = app.screen.width;\n        const SCREEN_HEIGHT = app.screen.height;\n        const FLOOR_Y = 750;\n        const CAMERA_THRESHOLD = 0.4; // 40% from screen edges\n\n        // Game loop\n        const gameLoop = delta => {\n          const velocity = velocityRef.current;\n          const jumpVelocity = jumpVelocityRef.current;\n          const isJumping = isJumpingRef.current;\n          const direction = directionRef.current;\n          const mario = marioRef.current;\n          const world = worldRef.current;\n          const fondo = fondoRef.current;\n\n          // Animation handling\n          handleAnimation(delta, velocity, direction, mario, framesLeft, framesRight);\n\n          // Movement physics\n          handleMovement(delta, {\n            velocity,\n            jumpVelocity,\n            isJumping,\n            mario,\n            world,\n            fondo,\n            constants: {\n              GRAVITY,\n              JUMP_FORCE,\n              MOVE_SPEED,\n              FRICTION,\n              WORLD_WIDTH,\n              SCREEN_WIDTH,\n              SCREEN_HEIGHT,\n              FLOOR_Y,\n              CAMERA_THRESHOLD\n            }\n          });\n\n          // Jump and collision\n          handleJumpAndCollision(delta, {\n            jumpVelocity,\n            isJumping,\n            mario,\n            world,\n            bloques: bloquesRef.current,\n            constants: {\n              GRAVITY,\n              FLOOR_Y\n            },\n            callbacks: {\n              setModalContent,\n              setModalVisible\n            }\n          });\n        };\n\n        // Animation handler\n        const handleAnimation = (delta, velocity, direction, mario, framesLeft, framesRight) => {\n          let frameCounter = 0;\n          let currentFrame = 0;\n          if (velocity !== 0) {\n            frameCounter += delta;\n            if (frameCounter >= 10) {\n              frameCounter = 0;\n              currentFrame = (currentFrame + 1) % 4;\n              mario.texture = direction === 'right' ? framesRight[currentFrame] : framesLeft[currentFrame];\n            }\n          } else {\n            mario.texture = direction === 'right' ? framesRight[0] : framesLeft[0];\n          }\n        };\n\n        // Movement handler\n        const handleMovement = (delta, {\n          velocity,\n          jumpVelocity,\n          isJumping,\n          mario,\n          world,\n          fondo,\n          constants\n        }) => {\n          const {\n            MOVE_SPEED,\n            FRICTION,\n            WORLD_WIDTH,\n            SCREEN_WIDTH,\n            SCREEN_HEIGHT,\n            FLOOR_Y,\n            CAMERA_THRESHOLD\n          } = constants;\n\n          // Calculate movement speed with delta time\n          const deltaSpeed = velocity * MOVE_SPEED * (delta / 16.67);\n\n          // World boundaries\n          const worldLeftLimit = 0;\n          const worldRightLimit = -(WORLD_WIDTH - SCREEN_WIDTH);\n\n          // Camera thresholds\n          const leftThreshold = SCREEN_WIDTH * CAMERA_THRESHOLD;\n          const rightThreshold = SCREEN_WIDTH * (1 - CAMERA_THRESHOLD);\n          if (velocity !== 0) {\n            // Calculate new Mario position\n            const newMarioX = mario.x + deltaSpeed;\n\n            // Moving right\n            if (velocity > 0) {\n              if (world.x > worldRightLimit && newMarioX > rightThreshold) {\n                // Move world left (camera follows Mario)\n                world.x -= deltaSpeed;\n                fondo.tilePosition.x += deltaSpeed * 0.2;\n              } else {\n                // Move Mario right within screen bounds\n                mario.x = Math.min(SCREEN_WIDTH - mario.width / 2, newMarioX);\n              }\n            }\n            // Moving left\n            else {\n              if (world.x < worldLeftLimit && newMarioX < leftThreshold) {\n                // Move world right (camera follows Mario)\n                world.x -= deltaSpeed;\n                fondo.tilePosition.x += deltaSpeed * 0.2;\n              } else {\n                // Move Mario left within screen bounds\n                mario.x = Math.max(mario.width / 2, newMarioX);\n              }\n            }\n\n            // Ensure world boundaries\n            world.x = Math.max(worldRightLimit, Math.min(worldLeftLimit, world.x));\n          }\n        };\n\n        // Jump and collision handler\n        const handleJumpAndCollision = (delta, {\n          jumpVelocity,\n          isJumping,\n          mario,\n          world,\n          bloques,\n          constants,\n          callbacks\n        }) => {\n          const {\n            GRAVITY,\n            FLOOR_Y\n          } = constants;\n          const {\n            setModalContent,\n            setModalVisible\n          } = callbacks;\n          if (isJumping) {\n            mario.y += jumpVelocity * (delta / 16.67);\n            jumpVelocityRef.current += GRAVITY * (delta / 16.67);\n\n            // Land on floor\n            if (mario.y >= FLOOR_Y) {\n              mario.y = FLOOR_Y;\n              isJumpingRef.current = false;\n              jumpVelocityRef.current = 0;\n            }\n\n            // Block collision detection\n            bloques.forEach(bloque => {\n              const marioBounds = mario.getBounds();\n              const bloqueBounds = bloque.getBounds();\n              const isHittingBlockFromBelow = marioBounds.y <= bloqueBounds.y + 15 && marioBounds.y + marioBounds.height >= bloqueBounds.y && marioBounds.x + marioBounds.width - 10 > bloqueBounds.x && marioBounds.x + 10 < bloqueBounds.x + bloqueBounds.width && jumpVelocity < 0;\n              if (isHittingBlockFromBelow) {\n                jumpVelocityRef.current = 10;\n                const originalY = bloque.y;\n\n                // Block bounce animation\n                let bounceHeight = 0;\n                const bounceUp = () => {\n                  bounceHeight += 2;\n                  bloque.y = originalY - bounceHeight;\n                  if (bounceHeight >= 15) {\n                    app.ticker.remove(bounceUp);\n                    const bounceDown = () => {\n                      bounceHeight -= 2;\n                      bloque.y = originalY - bounceHeight;\n                      if (bounceHeight <= 0) {\n                        bloque.y = originalY;\n                        app.ticker.remove(bounceDown);\n                      }\n                    };\n                    app.ticker.add(bounceDown);\n                  }\n                };\n                app.ticker.add(bounceUp);\n\n                // Show modal with content\n                setModalContent(bloqueContenidos[bloque.bloqueID - 1] || '<p>Contenido no disponible.</p>');\n                setModalVisible(true);\n              }\n            });\n          }\n        };\n\n        // Start game loop\n        app.ticker.add(gameLoop);\n\n        // Keyboard controls\n        const handleKeyDown = e => {\n          var _marioRef$current;\n          if (!modalVisible) {\n            switch (e.key) {\n              case 'ArrowRight':\n                velocityRef.current = 1;\n                directionRef.current = 'right';\n                break;\n              case 'ArrowLeft':\n                velocityRef.current = -1;\n                directionRef.current = 'left';\n                break;\n              case 'ArrowUp':\n              case ' ':\n                if (!isJumpingRef.current && ((_marioRef$current = marioRef.current) === null || _marioRef$current === void 0 ? void 0 : _marioRef$current.y) >= FLOOR_Y - 1) {\n                  isJumpingRef.current = true;\n                  jumpVelocityRef.current = JUMP_FORCE;\n                  if (window.navigator.vibrate) window.navigator.vibrate(30);\n                }\n                break;\n            }\n          }\n        };\n        const handleKeyUp = e => {\n          if (!modalVisible) {\n            if (e.key === 'ArrowRight' && velocityRef.current > 0) {\n              velocityRef.current = 0;\n            } else if (e.key === 'ArrowLeft' && velocityRef.current < 0) {\n              velocityRef.current = 0;\n            }\n          }\n        };\n        window.addEventListener('keydown', handleKeyDown);\n        window.addEventListener('keyup', handleKeyUp);\n\n        // Mobile touch controls\n        const setupMobileControls = () => {\n          const leftBtn = document.querySelector('.mobile-button.left');\n          const rightBtn = document.querySelector('.mobile-button.right');\n          const upBtn = document.querySelector('.mobile-button.up');\n          if (leftBtn && rightBtn && upBtn) {\n            // Left button\n            leftBtn.addEventListener('touchstart', e => {\n              e.preventDefault();\n              velocityRef.current = -1;\n              directionRef.current = 'left';\n              if (window.navigator.vibrate) window.navigator.vibrate(20);\n            });\n            leftBtn.addEventListener('touchend', e => {\n              e.preventDefault();\n              if (velocityRef.current === -1) {\n                velocityRef.current = 0;\n              }\n            });\n\n            // Right button\n            rightBtn.addEventListener('touchstart', e => {\n              e.preventDefault();\n              velocityRef.current = 1;\n              directionRef.current = 'right';\n              if (window.navigator.vibrate) window.navigator.vibrate(20);\n            });\n            rightBtn.addEventListener('touchend', e => {\n              e.preventDefault();\n              if (velocityRef.current === 1) {\n                velocityRef.current = 0;\n              }\n            });\n\n            // Up button\n            upBtn.addEventListener('touchstart', e => {\n              e.preventDefault();\n              if (!isJumpingRef.current) {\n                isJumpingRef.current = true;\n                jumpVelocityRef.current = JUMP_FORCE;\n                if (window.navigator.vibrate) window.navigator.vibrate(20);\n              }\n            });\n          }\n        };\n\n        // Prevent touch scroll\n        const preventTouch = e => e.preventDefault();\n        document.addEventListener('touchmove', preventTouch, {\n          passive: false\n        });\n\n        // Setup mobile controls after a small delay\n        if (isMobile) {\n          setTimeout(setupMobileControls, 100);\n        }\n        return () => {\n          window.removeEventListener('keydown', handleKeyDown);\n          window.removeEventListener('keyup', handleKeyUp);\n          document.removeEventListener('touchmove', preventTouch);\n          app.destroy(true, true);\n          document.body.style.overflow = '';\n          document.documentElement.style.overflow = '';\n        };\n      } catch (err) {\n        console.error('‚ùå Error en el juego:', err);\n        setModalContent(`\n          <h2>Error al cargar el juego</h2>\n          <p>${err.message}</p>\n          <p>Detalles t√©cnicos:</p>\n          <ul>\n            <li>Verifica que todas las im√°genes est√©n en public/assets/</li>\n            <li>Revisa la consola para m√°s detalles</li>\n          </ul>\n        `);\n        setModalVisible(true);\n        setLoading(false);\n      }\n    };\n    cargarJuego();\n    return () => {\n      if (appRef.current) {\n        appRef.current.destroy(true);\n      }\n      if (audioRef.current) {\n        audioRef.current.pause();\n        audioRef.current = null;\n      }\n      document.body.style.overflow = '';\n      document.documentElement.style.overflow = '';\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-screen\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-progress\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          style: {\n            width: `${loadProgress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 657,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-text\",\n          children: [\"Cargando... \", loadProgress, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 655,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header-juego\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Emanuel Alvarado Guzman\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 664,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Desarrollador Full Stack | Analista de datos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"redes\",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"https://www.linkedin.com/in/emmanuel-malavassi\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.PUBLIC_URL + \"/assets/linkedin.png\",\n            alt: \"LinkedIn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 669,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"mailto:emalva99guz@outlook.com\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.PUBLIC_URL + \"/assets/email.png\",\n            alt: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 672,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 671,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"https://github.com/hdecache99\",\n          target: \"_blank\",\n          rel: \"noopener noreferrer\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: process.env.PUBLIC_URL + \"/assets/github.png\",\n            alt: \"GitHub\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 675,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"mute-button\",\n          onClick: () => {\n            const current = audioRef.current;\n            if (current) {\n              current.muted = !current.muted;\n              setMuted(current.muted);\n            }\n          },\n          \"aria-label\": muted ? \"Unmute\" : \"Mute\",\n          children: muted ? 'üîá' : 'üîä'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 677,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 663,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"pixi-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 693,\n      columnNumber: 7\n    }, this), modalVisible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        role: \"dialog\",\n        \"aria-labelledby\": \"modal-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => setModalVisible(false),\n          className: \"close\",\n          \"aria-label\": \"Cerrar modal\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 698,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: modalContent\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 705,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"modal-hint\",\n          children: \"(Presiona Escape para cerrar)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 697,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 696,\n      columnNumber: 9\n    }, this), isMobile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mobile-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mobile-button left\",\n        \"aria-label\": \"Mover izquierda\",\n        children: \"\\u2B05\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 713,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mobile-button up\",\n        \"aria-label\": \"Saltar\",\n        children: \"\\u2B06\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 719,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mobile-button right\",\n        \"aria-label\": \"Mover derecha\",\n        children: \"\\u27A1\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 725,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 712,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 653,\n    columnNumber: 5\n  }, this);\n};\n_s(Juego, \"1mYtQhRBIVRWWTutVjPNvC19+eA=\");\n_c = Juego;\nexport default Juego;\nvar _c;\n$RefreshReg$(_c, \"Juego\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Application","Assets","Sprite","Container","TilingSprite","Text","TextStyle","Texture","jsxDEV","_jsxDEV","Juego","_s","loading","setLoading","loadProgress","setLoadProgress","modalVisible","setModalVisible","modalContent","setModalContent","muted","setMuted","isMobile","setIsMobile","containerRef","audioRef","velocityRef","jumpVelocityRef","isJumpingRef","directionRef","appRef","marioRef","worldRef","fondoRef","bloquesRef","bloqueContenidos","etiquetasBloques","handleEscape","e","key","window","addEventListener","removeEventListener","checkMobile","innerWidth","createFallbackTexture","color","width","height","canvas","document","createElement","ctx","getContext","fillStyle","toString","padStart","fillRect","strokeStyle","lineWidth","strokeRect","from","body","style","overflow","documentElement","setupAudio","current","Audio","process","env","PUBLIC_URL","loop","volume","handleFirstInteraction","play","catch","console","warn","forEach","evt","error","cargarJuego","requiredAssets","alias","fallbackColor","app","init","innerHeight","backgroundColor","resolution","devicePixelRatio","resizeTo","antialias","appendChild","basePath","preferWorkers","loadAsset","src","load","texture","get","valid","Error","assetPromises","Object","entries","map","index","then","Math","round","keys","length","Promise","all","textures","bloque","suelo","fondo","nube","farol","arbusto","walk0","walk1","walk2","walk3","walk4","walk5","walk6","walk7","framesLeft","framesRight","screen","zIndex","stage","addChild","world","nubeInicio","position","set","scale","alpha","bienvenidaText","fontFamily","fontSize","fill","align","wordWrap","wordWrapWidth","anchor","x","y","i","random","bloques","eventMode","cursor","bloqueID","push","textoBurbuja","stroke","strokeThickness","mario","GRAVITY","JUMP_FORCE","MOVE_SPEED","FRICTION","WORLD_WIDTH","SCREEN_WIDTH","SCREEN_HEIGHT","FLOOR_Y","CAMERA_THRESHOLD","gameLoop","delta","velocity","jumpVelocity","isJumping","direction","handleAnimation","handleMovement","constants","handleJumpAndCollision","callbacks","frameCounter","currentFrame","deltaSpeed","worldLeftLimit","worldRightLimit","leftThreshold","rightThreshold","newMarioX","tilePosition","min","max","marioBounds","getBounds","bloqueBounds","isHittingBlockFromBelow","originalY","bounceHeight","bounceUp","ticker","remove","bounceDown","add","handleKeyDown","_marioRef$current","navigator","vibrate","handleKeyUp","setupMobileControls","leftBtn","querySelector","rightBtn","upBtn","preventDefault","preventTouch","passive","setTimeout","destroy","err","message","pause","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","target","rel","alt","onClick","ref","role","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["C:/Users/emalv/OneDrive/Desktop/Portafolio/cv-ciudad/src/components/Juego.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  Application, Assets, Sprite, Container, TilingSprite, Text, TextStyle, Texture\r\n} from 'pixi.js';\r\nimport './Juego.css';\r\n\r\nconst Juego = () => {\r\n  // State management\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadProgress, setLoadProgress] = useState(0);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [modalContent, setModalContent] = useState('');\r\n  const [muted, setMuted] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  // Refs\r\n  const containerRef = useRef(null);\r\n  const audioRef = useRef(null);\r\n  const velocityRef = useRef(0);\r\n  const jumpVelocityRef = useRef(0);\r\n  const isJumpingRef = useRef(false);\r\n  const directionRef = useRef('right');\r\n  const appRef = useRef(null);\r\n  const marioRef = useRef(null);\r\n  const worldRef = useRef(null);\r\n  const fondoRef = useRef(null);\r\n  const bloquesRef = useRef([]);\r\n\r\n  // Content for the blocks\r\n  const bloqueContenidos = [\r\n    '<h2>Experiencia</h2><p>5 a√±os desarrollando aplicaciones web y m√≥viles...</p>',\r\n    '<h2>Educaci√≥n</h2><p>Ingenier√≠a en Sistemas en Universidad X...</p>',\r\n    '<h2>Habilidades</h2><p>JavaScript, React, Node.js, Python...</p>',\r\n    '<h2>Idiomas</h2><p>Espa√±ol (nativo), Ingl√©s (avanzado)...</p>',\r\n    '<h2>Contacto</h2><p>Email: ejemplo@email.com<br>Tel: +123456789</p>',\r\n    '<h2>Resumen</h2><p>Desarrollador full stack con experiencia...</p>',\r\n    '<h2>Proyectos</h2><p>Portafolio de proyectos destacados...</p>',\r\n    '<h2>Herramientas</h2><p>Git, Docker, AWS, Figma...</p>',\r\n    '<h2>Soft Skills</h2><p>Trabajo en equipo, comunicaci√≥n...</p>',\r\n    '<h2>Extras</h2><p>Certificaciones, cursos, voluntariado...</p>'\r\n  ];\r\n\r\n  const etiquetasBloques = [\r\n    'Experiencia', 'Educaci√≥n', 'Habilidades', 'Idiomas', 'Contacto',\r\n    'Resumen', 'Proyectos', 'Herramientas', 'Soft Skills', 'Extras',\r\n  ];\r\n\r\n  // Handle escape key for modal\r\n  useEffect(() => {\r\n    const handleEscape = (e) => {\r\n      if (e.key === 'Escape' && modalVisible) {\r\n        setModalVisible(false);\r\n      }\r\n    };\r\n    window.addEventListener('keydown', handleEscape);\r\n    return () => window.removeEventListener('keydown', handleEscape);\r\n  }, [modalVisible]);\r\n\r\n  // Check for mobile devices\r\n  useEffect(() => {\r\n    const checkMobile = () => {\r\n      setIsMobile(window.innerWidth <= 768);\r\n    };\r\n    checkMobile();\r\n    window.addEventListener('resize', checkMobile);\r\n    return () => window.removeEventListener('resize', checkMobile);\r\n  }, []);\r\n\r\n  // Create fallback texture\r\n  const createFallbackTexture = (color = 0xff0000, width = 64, height = 64) => {\r\n    const canvas = document.createElement('canvas');\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n    const ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = `#${color.toString(16).padStart(6, '0')}`;\r\n    ctx.fillRect(0, 0, width, height);\r\n    ctx.strokeStyle = '#000000';\r\n    ctx.lineWidth = 2;\r\n    ctx.strokeRect(0, 0, width, height);\r\n    return Texture.from(canvas);\r\n  };\r\n\r\n  // Main game setup\r\n  useEffect(() => {\r\n    // Disable scroll\r\n    document.body.style.overflow = 'hidden';\r\n    document.documentElement.style.overflow = 'hidden';\r\n\r\n    // Audio setup\r\n    const setupAudio = () => {\r\n      try {\r\n        audioRef.current = new Audio(process.env.PUBLIC_URL + '/assets/musica.mp3');\r\n        audioRef.current.loop = true;\r\n        audioRef.current.volume = 0.05;\r\n        \r\n        const handleFirstInteraction = () => {\r\n          audioRef.current.play().catch(console.warn);\r\n          ['click', 'keydown', 'touchstart'].forEach(evt => \r\n            document.removeEventListener(evt, handleFirstInteraction)\r\n          );\r\n        };\r\n\r\n        ['click', 'keydown', 'touchstart'].forEach(evt => \r\n          document.addEventListener(evt, handleFirstInteraction)\r\n        );\r\n      } catch (error) {\r\n        console.error('Error al configurar audio:', error);\r\n      }\r\n    };\r\n\r\n    setupAudio();\r\n\r\n    const cargarJuego = async () => {\r\n      try {\r\n        // Required assets with fallback colors\r\n        const requiredAssets = {\r\n          'bloque.png': { alias: 'bloque', fallbackColor: 0x8B4513 },\r\n          'suelo.png': { alias: 'suelo', fallbackColor: 0x228B22 },\r\n          'ciudad.png': { alias: 'fondo', fallbackColor: 0x87CEEB },\r\n          'nube.png': { alias: 'nube', fallbackColor: 0xFFFFFF },\r\n          'farol.png': { alias: 'farol', fallbackColor: 0xFFD700 },\r\n          'arbusto.png': { alias: 'arbusto', fallbackColor: 0x006400 },\r\n          'tile000.png': { alias: 'walk0', fallbackColor: 0xFF0000 },\r\n          'tile001.png': { alias: 'walk1', fallbackColor: 0xFF7F00 },\r\n          'tile002.png': { alias: 'walk2', fallbackColor: 0xFFFF00 },\r\n          'tile003.png': { alias: 'walk3', fallbackColor: 0x00FF00 },\r\n          'tile004.png': { alias: 'walk4', fallbackColor: 0x0000FF },\r\n          'tile005.png': { alias: 'walk5', fallbackColor: 0x4B0082 },\r\n          'tile006.png': { alias: 'walk6', fallbackColor: 0x9400D3 },\r\n          'tile007.png': { alias: 'walk7', fallbackColor: 0xFF1493 }\r\n        };\r\n\r\n        // Initialize PixiJS\r\n        const app = new Application();\r\n        await app.init({\r\n          width: window.innerWidth,\r\n          height: window.innerHeight,\r\n          backgroundColor: 0x87ceeb,\r\n          resolution: window.devicePixelRatio || 1,\r\n          resizeTo: window,\r\n          antialias: true\r\n        });\r\n        appRef.current = app;\r\n        containerRef.current.appendChild(app.canvas);\r\n\r\n        // Setup assets with enhanced error handling\r\n        Assets.init({ \r\n          basePath: process.env.PUBLIC_URL + '/assets',\r\n          preferWorkers: true\r\n        });\r\n\r\n        // Custom loader with fallback\r\n        const loadAsset = async (src, alias, fallbackColor) => {\r\n          try {\r\n            await Assets.load({ src, alias });\r\n            const texture = Assets.get(alias);\r\n            if (!texture.valid) throw new Error('Texture not valid');\r\n            return texture;\r\n          } catch (error) {\r\n            console.warn(`Fallback created for ${src}:`, error);\r\n            return createFallbackTexture(fallbackColor);\r\n          }\r\n        };\r\n\r\n        // Load all assets with progress tracking\r\n        const assetPromises = Object.entries(requiredAssets).map(\r\n          ([src, { alias, fallbackColor }], index) => {\r\n            return loadAsset(src, alias, fallbackColor).then(() => {\r\n              setLoadProgress(Math.round(((index + 1) / Object.keys(requiredAssets).length) * 100));\r\n            });\r\n          }\r\n        );\r\n\r\n        await Promise.all(assetPromises);\r\n        setLoading(false);\r\n\r\n        // Get textures\r\n        const textures = {\r\n          bloque: Assets.get('bloque'),\r\n          suelo: Assets.get('suelo'),\r\n          fondo: Assets.get('fondo'),\r\n          nube: Assets.get('nube'),\r\n          farol: Assets.get('farol'),\r\n          arbusto: Assets.get('arbusto'),\r\n          walk0: Assets.get('walk0'),\r\n          walk1: Assets.get('walk1'),\r\n          walk2: Assets.get('walk2'),\r\n          walk3: Assets.get('walk3'),\r\n          walk4: Assets.get('walk4'),\r\n          walk5: Assets.get('walk5'),\r\n          walk6: Assets.get('walk6'),\r\n          walk7: Assets.get('walk7')\r\n        };\r\n\r\n        const framesLeft = [textures.walk0, textures.walk1, textures.walk2, textures.walk3];\r\n        const framesRight = [textures.walk7, textures.walk6, textures.walk5, textures.walk4];\r\n\r\n        // Setup background\r\n        const fondo = new TilingSprite(textures.fondo, 6000, app.screen.height);\r\n        fondo.zIndex = -1;\r\n        fondoRef.current = fondo;\r\n        app.stage.addChild(fondo);\r\n\r\n        // Create world container\r\n        const world = new Container();\r\n        worldRef.current = world;\r\n        app.stage.addChild(world);\r\n\r\n        // Welcome cloud\r\n        const nubeInicio = new Sprite(textures.nube);\r\n        nubeInicio.position.set(200, 200);\r\n        nubeInicio.scale.set(0.8);\r\n        nubeInicio.alpha = 0.9;\r\n        world.addChild(nubeInicio);\r\n\r\n        const bienvenidaText = new Text(\r\n          '¬°Bienvenido!\\nUsa flechas para moverte\\nEscape para cerrar modales',\r\n          new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 16,\r\n            fill: 'black',\r\n            align: 'center',\r\n            wordWrap: true,\r\n            wordWrapWidth: 200,\r\n          })\r\n        );\r\n        bienvenidaText.anchor.set(0.5);\r\n        bienvenidaText.position.set(\r\n          nubeInicio.x + nubeInicio.width / 2,\r\n          nubeInicio.y + nubeInicio.height / 2\r\n        );\r\n        world.addChild(bienvenidaText);\r\n\r\n        // Clouds\r\n        for (let i = 0; i < 10; i++) {\r\n          const nube = new Sprite(textures.nube);\r\n          nube.position.set(i * 800, 80 + Math.random() * 20);\r\n          nube.alpha = 0.9;\r\n          nube.scale.set(0.5);\r\n          world.addChild(nube);\r\n        }\r\n\r\n        // Ground\r\n        for (let i = 0; i < 100; i++) {\r\n          const suelo = new Sprite(textures.suelo);\r\n          suelo.scale.set(0.4);\r\n          suelo.position.set(i * (suelo.width * 0.3), 750);\r\n          world.addChild(suelo);\r\n        }\r\n\r\n        // Interactive blocks\r\n        const bloques = [];\r\n        bloquesRef.current = bloques;\r\n        for (let i = 0; i < 10; i++) {\r\n          const bloque = new Sprite(textures.bloque);\r\n          bloque.scale.set(0.05);\r\n          bloque.position.set(900 + i * 400, 470);\r\n          bloque.eventMode = 'static';\r\n          bloque.cursor = 'pointer';\r\n          bloque.bloqueID = i + 1;\r\n          world.addChild(bloque);\r\n          bloques.push(bloque);\r\n\r\n          const textoBurbuja = new Text(etiquetasBloques[i], new TextStyle({\r\n            fontFamily: 'Arial',\r\n            fontSize: 18,\r\n            fill: 'white',\r\n            stroke: '#000',\r\n            strokeThickness: 3,\r\n            align: 'center',\r\n          }));\r\n          textoBurbuja.anchor.set(0.5);\r\n          textoBurbuja.position.set(\r\n            bloque.x + (bloque.width * 0.5),\r\n            bloque.y - 40\r\n          );\r\n          world.addChild(textoBurbuja);\r\n        }\r\n\r\n        // Decorative elements\r\n        for (let i = 0; i < 5; i++) {\r\n          const farol = new Sprite(textures.farol);\r\n          farol.scale.set(0.58);\r\n          farol.position.set(600 + i * 800, 433);\r\n          world.addChild(farol);\r\n        }\r\n\r\n        for (let i = 0; i < 8; i++) {\r\n          const arbusto = new Sprite(textures.arbusto);\r\n          arbusto.position.set(300 + i * 600, 495);\r\n          world.addChild(arbusto);\r\n        }\r\n\r\n        // Character\r\n        const mario = new Sprite(framesRight[0]);\r\n        mario.scale.set(0.58);\r\n        mario.position.set(app.screen.width / 4, 750);\r\n        mario.anchor.set(0.5, 1);\r\n        marioRef.current = mario;\r\n        world.addChild(mario);\r\n\r\n        // Game constants\r\n        const GRAVITY = 1.5;\r\n        const JUMP_FORCE = -25;\r\n        const MOVE_SPEED = 10;\r\n        const FRICTION = 0.9;\r\n        const WORLD_WIDTH = bloques[bloques.length - 1].x + 800;\r\n        const SCREEN_WIDTH = app.screen.width;\r\n        const SCREEN_HEIGHT = app.screen.height;\r\n        const FLOOR_Y = 750;\r\n        const CAMERA_THRESHOLD = 0.4; // 40% from screen edges\r\n\r\n        // Game loop\r\n        const gameLoop = (delta) => {\r\n          const velocity = velocityRef.current;\r\n          const jumpVelocity = jumpVelocityRef.current;\r\n          const isJumping = isJumpingRef.current;\r\n          const direction = directionRef.current;\r\n          const mario = marioRef.current;\r\n          const world = worldRef.current;\r\n          const fondo = fondoRef.current;\r\n\r\n          // Animation handling\r\n          handleAnimation(delta, velocity, direction, mario, framesLeft, framesRight);\r\n\r\n          // Movement physics\r\n          handleMovement(delta, {\r\n            velocity,\r\n            jumpVelocity,\r\n            isJumping,\r\n            mario,\r\n            world,\r\n            fondo,\r\n            constants: {\r\n              GRAVITY,\r\n              JUMP_FORCE,\r\n              MOVE_SPEED,\r\n              FRICTION,\r\n              WORLD_WIDTH,\r\n              SCREEN_WIDTH,\r\n              SCREEN_HEIGHT,\r\n              FLOOR_Y,\r\n              CAMERA_THRESHOLD\r\n            }\r\n          });\r\n\r\n          // Jump and collision\r\n          handleJumpAndCollision(delta, {\r\n            jumpVelocity,\r\n            isJumping,\r\n            mario,\r\n            world,\r\n            bloques: bloquesRef.current,\r\n            constants: {\r\n              GRAVITY,\r\n              FLOOR_Y\r\n            },\r\n            callbacks: {\r\n              setModalContent,\r\n              setModalVisible\r\n            }\r\n          });\r\n        };\r\n\r\n        // Animation handler\r\n        const handleAnimation = (delta, velocity, direction, mario, framesLeft, framesRight) => {\r\n          let frameCounter = 0;\r\n          let currentFrame = 0;\r\n          \r\n          if (velocity !== 0) {\r\n            frameCounter += delta;\r\n            if (frameCounter >= 10) {\r\n              frameCounter = 0;\r\n              currentFrame = (currentFrame + 1) % 4;\r\n              mario.texture = direction === 'right' \r\n                ? framesRight[currentFrame] \r\n                : framesLeft[currentFrame];\r\n            }\r\n          } else {\r\n            mario.texture = direction === 'right' ? framesRight[0] : framesLeft[0];\r\n          }\r\n        };\r\n\r\n        // Movement handler\r\n        const handleMovement = (delta, { \r\n          velocity, \r\n          jumpVelocity, \r\n          isJumping, \r\n          mario, \r\n          world, \r\n          fondo, \r\n          constants \r\n        }) => {\r\n          const {\r\n            MOVE_SPEED,\r\n            FRICTION,\r\n            WORLD_WIDTH,\r\n            SCREEN_WIDTH,\r\n            SCREEN_HEIGHT,\r\n            FLOOR_Y,\r\n            CAMERA_THRESHOLD\r\n          } = constants;\r\n\r\n          // Calculate movement speed with delta time\r\n          const deltaSpeed = velocity * MOVE_SPEED * (delta / 16.67);\r\n          \r\n          // World boundaries\r\n          const worldLeftLimit = 0;\r\n          const worldRightLimit = -(WORLD_WIDTH - SCREEN_WIDTH);\r\n          \r\n          // Camera thresholds\r\n          const leftThreshold = SCREEN_WIDTH * CAMERA_THRESHOLD;\r\n          const rightThreshold = SCREEN_WIDTH * (1 - CAMERA_THRESHOLD);\r\n\r\n          if (velocity !== 0) {\r\n            // Calculate new Mario position\r\n            const newMarioX = mario.x + deltaSpeed;\r\n            \r\n            // Moving right\r\n            if (velocity > 0) {\r\n              if (world.x > worldRightLimit && newMarioX > rightThreshold) {\r\n                // Move world left (camera follows Mario)\r\n                world.x -= deltaSpeed;\r\n                fondo.tilePosition.x += deltaSpeed * 0.2;\r\n              } else {\r\n                // Move Mario right within screen bounds\r\n                mario.x = Math.min(SCREEN_WIDTH - mario.width/2, newMarioX);\r\n              }\r\n            } \r\n            // Moving left\r\n            else {\r\n              if (world.x < worldLeftLimit && newMarioX < leftThreshold) {\r\n                // Move world right (camera follows Mario)\r\n                world.x -= deltaSpeed;\r\n                fondo.tilePosition.x += deltaSpeed * 0.2;\r\n              } else {\r\n                // Move Mario left within screen bounds\r\n                mario.x = Math.max(mario.width/2, newMarioX);\r\n              }\r\n            }\r\n            \r\n            // Ensure world boundaries\r\n            world.x = Math.max(worldRightLimit, Math.min(worldLeftLimit, world.x));\r\n          }\r\n        };\r\n\r\n        // Jump and collision handler\r\n        const handleJumpAndCollision = (delta, {\r\n          jumpVelocity,\r\n          isJumping,\r\n          mario,\r\n          world,\r\n          bloques,\r\n          constants,\r\n          callbacks\r\n        }) => {\r\n          const { GRAVITY, FLOOR_Y } = constants;\r\n          const { setModalContent, setModalVisible } = callbacks;\r\n\r\n          if (isJumping) {\r\n            mario.y += jumpVelocity * (delta / 16.67);\r\n            jumpVelocityRef.current += GRAVITY * (delta / 16.67);\r\n            \r\n            // Land on floor\r\n            if (mario.y >= FLOOR_Y) {\r\n              mario.y = FLOOR_Y;\r\n              isJumpingRef.current = false;\r\n              jumpVelocityRef.current = 0;\r\n            }\r\n\r\n            // Block collision detection\r\n            bloques.forEach((bloque) => {\r\n              const marioBounds = mario.getBounds();\r\n              const bloqueBounds = bloque.getBounds();\r\n              \r\n              const isHittingBlockFromBelow =\r\n                marioBounds.y <= bloqueBounds.y + 15 &&\r\n                marioBounds.y + marioBounds.height >= bloqueBounds.y &&\r\n                marioBounds.x + marioBounds.width - 10 > bloqueBounds.x &&\r\n                marioBounds.x + 10 < bloqueBounds.x + bloqueBounds.width &&\r\n                jumpVelocity < 0;\r\n\r\n              if (isHittingBlockFromBelow) {\r\n                jumpVelocityRef.current = 10;\r\n                const originalY = bloque.y;\r\n                \r\n                // Block bounce animation\r\n                let bounceHeight = 0;\r\n                const bounceUp = () => {\r\n                  bounceHeight += 2;\r\n                  bloque.y = originalY - bounceHeight;\r\n                  if (bounceHeight >= 15) {\r\n                    app.ticker.remove(bounceUp);\r\n                    const bounceDown = () => {\r\n                      bounceHeight -= 2;\r\n                      bloque.y = originalY - bounceHeight;\r\n                      if (bounceHeight <= 0) {\r\n                        bloque.y = originalY;\r\n                        app.ticker.remove(bounceDown);\r\n                      }\r\n                    };\r\n                    app.ticker.add(bounceDown);\r\n                  }\r\n                };\r\n                app.ticker.add(bounceUp);\r\n                \r\n                // Show modal with content\r\n                setModalContent(bloqueContenidos[bloque.bloqueID - 1] || '<p>Contenido no disponible.</p>');\r\n                setModalVisible(true);\r\n              }\r\n            });\r\n          }\r\n        };\r\n\r\n        // Start game loop\r\n        app.ticker.add(gameLoop);\r\n\r\n        // Keyboard controls\r\n        const handleKeyDown = (e) => {\r\n          if (!modalVisible) {\r\n            switch(e.key) {\r\n              case 'ArrowRight':\r\n                velocityRef.current = 1;\r\n                directionRef.current = 'right';\r\n                break;\r\n              case 'ArrowLeft':\r\n                velocityRef.current = -1;\r\n                directionRef.current = 'left';\r\n                break;\r\n              case 'ArrowUp':\r\n              case ' ':\r\n                if (!isJumpingRef.current && marioRef.current?.y >= FLOOR_Y - 1) {\r\n                  isJumpingRef.current = true;\r\n                  jumpVelocityRef.current = JUMP_FORCE;\r\n                  if (window.navigator.vibrate) window.navigator.vibrate(30);\r\n                }\r\n                break;\r\n            }\r\n          }\r\n        };\r\n\r\n        const handleKeyUp = (e) => {\r\n          if (!modalVisible) {\r\n            if (e.key === 'ArrowRight' && velocityRef.current > 0) {\r\n              velocityRef.current = 0;\r\n            } else if (e.key === 'ArrowLeft' && velocityRef.current < 0) {\r\n              velocityRef.current = 0;\r\n            }\r\n          }\r\n        };\r\n\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        window.addEventListener('keyup', handleKeyUp);\r\n\r\n        // Mobile touch controls\r\n        const setupMobileControls = () => {\r\n          const leftBtn = document.querySelector('.mobile-button.left');\r\n          const rightBtn = document.querySelector('.mobile-button.right');\r\n          const upBtn = document.querySelector('.mobile-button.up');\r\n\r\n          if (leftBtn && rightBtn && upBtn) {\r\n            // Left button\r\n            leftBtn.addEventListener('touchstart', (e) => {\r\n              e.preventDefault();\r\n              velocityRef.current = -1;\r\n              directionRef.current = 'left';\r\n              if (window.navigator.vibrate) window.navigator.vibrate(20);\r\n            });\r\n            \r\n            leftBtn.addEventListener('touchend', (e) => {\r\n              e.preventDefault();\r\n              if (velocityRef.current === -1) {\r\n                velocityRef.current = 0;\r\n              }\r\n            });\r\n\r\n            // Right button\r\n            rightBtn.addEventListener('touchstart', (e) => {\r\n              e.preventDefault();\r\n              velocityRef.current = 1;\r\n              directionRef.current = 'right';\r\n              if (window.navigator.vibrate) window.navigator.vibrate(20);\r\n            });\r\n            \r\n            rightBtn.addEventListener('touchend', (e) => {\r\n              e.preventDefault();\r\n              if (velocityRef.current === 1) {\r\n                velocityRef.current = 0;\r\n              }\r\n            });\r\n\r\n            // Up button\r\n            upBtn.addEventListener('touchstart', (e) => {\r\n              e.preventDefault();\r\n              if (!isJumpingRef.current) {\r\n                isJumpingRef.current = true;\r\n                jumpVelocityRef.current = JUMP_FORCE;\r\n                if (window.navigator.vibrate) window.navigator.vibrate(20);\r\n              }\r\n            });\r\n          }\r\n        };\r\n\r\n        // Prevent touch scroll\r\n        const preventTouch = (e) => e.preventDefault();\r\n        document.addEventListener('touchmove', preventTouch, { passive: false });\r\n\r\n        // Setup mobile controls after a small delay\r\n        if (isMobile) {\r\n          setTimeout(setupMobileControls, 100);\r\n        }\r\n\r\n        return () => {\r\n          window.removeEventListener('keydown', handleKeyDown);\r\n          window.removeEventListener('keyup', handleKeyUp);\r\n          document.removeEventListener('touchmove', preventTouch);\r\n          app.destroy(true, true);\r\n          document.body.style.overflow = '';\r\n          document.documentElement.style.overflow = '';\r\n        };\r\n      } catch (err) {\r\n        console.error('‚ùå Error en el juego:', err);\r\n        setModalContent(`\r\n          <h2>Error al cargar el juego</h2>\r\n          <p>${err.message}</p>\r\n          <p>Detalles t√©cnicos:</p>\r\n          <ul>\r\n            <li>Verifica que todas las im√°genes est√©n en public/assets/</li>\r\n            <li>Revisa la consola para m√°s detalles</li>\r\n          </ul>\r\n        `);\r\n        setModalVisible(true);\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    cargarJuego();\r\n\r\n    return () => {\r\n      if (appRef.current) {\r\n        appRef.current.destroy(true);\r\n      }\r\n      if (audioRef.current) {\r\n        audioRef.current.pause();\r\n        audioRef.current = null;\r\n      }\r\n      document.body.style.overflow = '';\r\n      document.documentElement.style.overflow = '';\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"game-container\">\r\n      {loading && (\r\n        <div className=\"loading-screen\">\r\n          <div className=\"loading-progress\">\r\n            <div className=\"progress-bar\" style={{ width: `${loadProgress}%` }}></div>\r\n            <div className=\"progress-text\">Cargando... {loadProgress}%</div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <header className=\"header-juego\">\r\n        <h1>Emanuel Alvarado Guzman</h1>\r\n        <p>Desarrollador Full Stack | Analista de datos</p>\r\n\r\n        <div className=\"redes\">\r\n          <a href=\"https://www.linkedin.com/in/emmanuel-malavassi\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <img src={process.env.PUBLIC_URL + \"/assets/linkedin.png\"} alt=\"LinkedIn\" />\r\n          </a>\r\n          <a href=\"mailto:emalva99guz@outlook.com\">\r\n            <img src={process.env.PUBLIC_URL + \"/assets/email.png\"} alt=\"Email\" />\r\n          </a>\r\n          <a href=\"https://github.com/hdecache99\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            <img src={process.env.PUBLIC_URL + \"/assets/github.png\"} alt=\"GitHub\" />\r\n          </a>\r\n          <button\r\n            className=\"mute-button\"\r\n            onClick={() => {\r\n              const current = audioRef.current;\r\n              if (current) {\r\n                current.muted = !current.muted;\r\n                setMuted(current.muted);\r\n              }\r\n            }}\r\n            aria-label={muted ? \"Unmute\" : \"Mute\"}\r\n          >\r\n            {muted ? 'üîá' : 'üîä'}\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div ref={containerRef} className=\"pixi-container\" />\r\n\r\n      {modalVisible && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\" role=\"dialog\" aria-labelledby=\"modal-title\">\r\n            <span \r\n              onClick={() => setModalVisible(false)} \r\n              className=\"close\"\r\n              aria-label=\"Cerrar modal\"\r\n            >\r\n              &times;\r\n            </span>\r\n            <div dangerouslySetInnerHTML={{ __html: modalContent }} />\r\n            <p className=\"modal-hint\">(Presiona Escape para cerrar)</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {isMobile && (\r\n        <div className=\"mobile-controls\">\r\n          <button\r\n            className=\"mobile-button left\"\r\n            aria-label=\"Mover izquierda\"\r\n          >\r\n            ‚¨ÖÔ∏è\r\n          </button>\r\n          <button\r\n            className=\"mobile-button up\"\r\n            aria-label=\"Saltar\"\r\n          >\r\n            ‚¨ÜÔ∏è\r\n          </button>\r\n          <button\r\n            className=\"mobile-button right\"\r\n            aria-label=\"Mover derecha\"\r\n          >\r\n            ‚û°Ô∏è\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Juego;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}