{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\emalv\\\\OneDrive\\\\Desktop\\\\Portafolio\\\\cv-ciudad\\\\src\\\\components\\\\Juego.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport { Application, Assets, Sprite, Container, TilingSprite, Text, TextStyle, Texture } from 'pixi.js';\nimport './Juego.css';\n\n// Aqu√≠ pega tus 10 contenidos HTML de los bloques, en el mismo orden de etiquetasBloques:\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst bloqueContenidos = [`<h2>Experiencia Profesional</h2>‚Ä¶`,\n// 1\n`<h2>Educaci√≥n</h2>‚Ä¶`,\n// 2\n`<h2>Habilidades T√©cnicas</h2>‚Ä¶`,\n// 3\n`<h2>Idiomas</h2>‚Ä¶`,\n// 4\n`<h2>Contacto</h2>‚Ä¶`,\n// 5\n`<h2>Resumen Profesional</h2>‚Ä¶`,\n// 6\n`<h2>Proyectos Destacados</h2>‚Ä¶`,\n// 7\n`<h2>Herramientas</h2>‚Ä¶`,\n// 8\n`<h2>Habilidades Blandas</h2>‚Ä¶`,\n// 9\n`<h2>Experiencias Adicionales</h2>‚Ä¶` // 10\n];\nconst etiquetasBloques = ['Experiencia', 'Educaci√≥n', 'Habilidades', 'Idiomas', 'Contacto', 'Resumen', 'Proyectos', 'Herramientas', 'Soft Skills', 'Extras'];\n\n// Rutas de tus sprites de caminar\nconst SPRITE_PATHS = [{\n  file: 'tile000.png',\n  alias: 'walk0'\n}, {\n  file: 'tile001.png',\n  alias: 'walk1'\n}, {\n  file: 'tile002.png',\n  alias: 'walk2'\n}, {\n  file: 'tile003.png',\n  alias: 'walk3'\n}, {\n  file: 'tile004.png',\n  alias: 'walk4'\n}, {\n  file: 'tile005.png',\n  alias: 'walk5'\n}, {\n  file: 'tile006.png',\n  alias: 'walk6'\n}, {\n  file: 'tile007.png',\n  alias: 'walk7'\n}];\nexport default function Juego() {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [progress, setProgress] = useState(0);\n  const [modal, setModal] = useState({\n    visible: false,\n    content: ''\n  });\n  const [muted, setMuted] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const containerRef = useRef();\n  const audioRef = useRef();\n  const appRef = useRef();\n  const refs = {\n    velocity: useRef(0),\n    jumpVel: useRef(0),\n    jumping: useRef(false),\n    dir: useRef('right'),\n    mario: useRef(),\n    world: useRef(),\n    fondo: useRef(),\n    bloques: useRef([])\n  };\n\n  // Crea una textura de respaldo si falla la carga\n  const createFallback = (color = 0xff0000, w = 64, h = 64) => {\n    const cvs = document.createElement('canvas');\n    cvs.width = w;\n    cvs.height = h;\n    const ctx = cvs.getContext('2d');\n    ctx.fillStyle = `#${color.toString(16).padStart(6, '0')}`;\n    ctx.fillRect(0, 0, w, h);\n    return Texture.from(cvs);\n  };\n\n  // Detectar cambio de tama√±o para m√≥vil y cerrar modal con Escape\n  useEffect(() => {\n    const onResize = () => setIsMobile(window.innerWidth <= 768);\n    const onEsc = e => e.key === 'Escape' && modal.visible && setModal({\n      visible: false,\n      content: ''\n    });\n    window.addEventListener('resize', onResize);\n    window.addEventListener('keydown', onEsc);\n    onResize();\n    return () => {\n      window.removeEventListener('resize', onResize);\n      window.removeEventListener('keydown', onEsc);\n    };\n  }, [modal.visible]);\n\n  // Configuraci√≥n principal de PixiJS\n  useEffect(() => {\n    document.body.style.overflow = 'hidden';\n\n    // Inicializa audio de fondo\n    audioRef.current = new Audio(process.env.PUBLIC_URL + '/assets/musica.mp3');\n    audioRef.current.loop = true;\n    audioRef.current.volume = 0.05;\n    const playOnInteract = () => {\n      audioRef.current.play().catch(() => {});\n      ['click', 'keydown', 'touchstart'].forEach(evt => document.removeEventListener(evt, playOnInteract));\n    };\n    ['click', 'keydown', 'touchstart'].forEach(evt => document.addEventListener(evt, playOnInteract));\n\n    // Init Pixi application\n    const app = new Application({\n      width: window.innerWidth,\n      height: window.innerHeight,\n      backgroundColor: 0x87ceeb,\n      resolution: window.devicePixelRatio || 1,\n      resizeTo: window,\n      antialias: true\n    });\n    appRef.current = app;\n    containerRef.current.appendChild(app.view);\n    (async () => {\n      // Prepara la carga de assets\n      await Assets.init({\n        basePath: process.env.PUBLIC_URL + '/assets'\n      });\n      const assetList = [...SPRITE_PATHS, {\n        file: 'suelo.png',\n        alias: 'suelo'\n      }, {\n        file: 'fondo.png',\n        alias: 'fondo'\n      }, {\n        file: 'bloque.png',\n        alias: 'bloque'\n      }, {\n        file: 'nube.png',\n        alias: 'nube'\n      }, {\n        file: 'farol.png',\n        alias: 'farol'\n      }, {\n        file: 'arbusto.png',\n        alias: 'arbusto'\n      }];\n\n      // Carga con progreso y fallback\n      for (let i = 0; i < assetList.length; i++) {\n        const {\n          file,\n          alias\n        } = assetList[i];\n        try {\n          await Assets.load({\n            src: file,\n            alias\n          });\n        } catch {\n          Assets.cache.add(alias, createFallback());\n        }\n        setProgress(Math.round((i + 1) / assetList.length * 100));\n      }\n      setLoading(false);\n\n      // Recupera texturas\n      const T = key => Assets.get(key);\n      const framesL = ['walk0', 'walk1', 'walk2', 'walk3'].map(T);\n      const framesR = ['walk7', 'walk6', 'walk5', 'walk4'].map(T);\n\n      // Suelo infinito\n      const suelo = new TilingSprite(T('suelo'), app.screen.width * 2, 100);\n      suelo.y = app.screen.height - 50;\n      app.stage.addChild(suelo);\n\n      // Fondo parallax\n      const fondo = new TilingSprite(T('fondo'), 6000, app.screen.height);\n      fondo.zIndex = -1;\n      app.stage.addChild(fondo);\n      refs.fondo.current = fondo;\n\n      // Contenedor global\n      const world = new Container();\n      app.stage.addChild(world);\n      refs.world.current = world;\n\n      // Nubes decorativas\n      for (let i = 0; i < 10; i++) {\n        const nube = new Sprite(T('nube'));\n        nube.position.set(i * 800, 80 + Math.random() * 20);\n        nube.scale.set(0.5);\n        world.addChild(nube);\n      }\n\n      // Bloques interactivos con etiqueta y modal\n      etiquetasBloques.forEach((etq, i) => {\n        const bloque = new Sprite(T('bloque'));\n        bloque.scale.set(0.05);\n        bloque.position.set(900 + i * 400, app.screen.height - 280);\n        bloque.interactive = true;\n        bloque.on('pointerdown', () => {\n          setModal({\n            visible: true,\n            content: bloqueContenidos[i]\n          });\n        });\n        world.addChild(bloque);\n        refs.bloques.current.push(bloque);\n        const label = new Text(etq, new TextStyle({\n          fontFamily: 'Arial',\n          fontSize: 18,\n          fill: 'white',\n          stroke: '#000000',\n          strokeThickness: 3\n        }));\n        label.anchor.set(0.5);\n        label.position.set(bloque.x + bloque.width / 2, bloque.y - 40);\n        world.addChild(label);\n      });\n\n      // Personaje principal\n      const mario = new Sprite(framesR[0]);\n      mario.anchor.set(0.5, 1);\n      mario.position.set(app.screen.width / 4, app.screen.height - 50);\n      mario.scale.set(0.58);\n      world.addChild(mario);\n      refs.mario.current = mario;\n\n      // Variables f√≠sicas y de animaci√≥n\n      let frame = 0,\n        counter = 0;\n      const gravity = 1.5,\n        jumpForce = -25,\n        moveSpeed = 10;\n\n      // Bucle principal\n      app.ticker.add(delta => {\n        const vel = refs.velocity.current;\n        const dir = refs.dir.current;\n\n        // Animaci√≥n de caminar\n        if (vel !== 0) {\n          counter += delta;\n          if (counter >= 10) {\n            counter = 0;\n            frame = (frame + 1) % 4;\n            mario.texture = dir === 'right' ? framesR[frame] : framesL[frame];\n          }\n        } else {\n          mario.texture = dir === 'right' ? framesR[0] : framesL[0];\n        }\n\n        // F√≠sica de salto\n        if (refs.jumping.current) {\n          mario.y += refs.jumpVel.current;\n          refs.jumpVel.current += gravity;\n          if (mario.y >= app.screen.height - 50) {\n            mario.y = app.screen.height - 50;\n            refs.jumping.current = false;\n            refs.jumpVel.current = 0;\n          }\n        }\n\n        // Scroll del mundo vs movimiento de Mario\n        const dx = vel * moveSpeed * (delta / 16.67);\n        const worldLeft = 0;\n        const worldRight = -(world.width - app.screen.width);\n        const leftThresh = app.screen.width * 0.3;\n        const rightThresh = app.screen.width * 0.7;\n        if (vel < 0) {\n          if (mario.x > leftThresh || world.x >= worldLeft) mario.x += dx;else {\n            world.x -= dx;\n            fondo.tilePosition.x += dx * 0.2;\n          }\n        } else if (vel > 0) {\n          if (mario.x < rightThresh || world.x <= worldRight) mario.x += dx;else {\n            world.x -= dx;\n            fondo.tilePosition.x += dx * 0.2;\n          }\n        }\n\n        // L√≠mites\n        mario.x = Math.max(0, Math.min(app.screen.width, mario.x));\n        world.x = Math.max(worldRight, Math.min(worldLeft, world.x));\n      });\n\n      // Controles de teclado\n      const onKeyDown = e => {\n        if (modal.visible) return;\n        if (e.key === 'ArrowRight') {\n          refs.velocity.current = 1;\n          refs.dir.current = 'right';\n        }\n        if (e.key === 'ArrowLeft') {\n          refs.velocity.current = -1;\n          refs.dir.current = 'left';\n        }\n        if ((e.key === 'ArrowUp' || e.key === ' ') && !refs.jumping.current) {\n          var _window$navigator$vib, _window$navigator;\n          refs.jumping.current = true;\n          refs.jumpVel.current = jumpForce;\n          (_window$navigator$vib = (_window$navigator = window.navigator).vibrate) === null || _window$navigator$vib === void 0 ? void 0 : _window$navigator$vib.call(_window$navigator, 30);\n        }\n      };\n      const onKeyUp = e => {\n        if (['ArrowRight', 'ArrowLeft'].includes(e.key)) refs.velocity.current = 0;\n      };\n      window.addEventListener('keydown', onKeyDown);\n      window.addEventListener('keyup', onKeyUp);\n\n      // Controles t√°ctiles para m√≥vil\n      const setupTouch = () => {\n        ['left', 'up', 'right'].forEach(dir => {\n          const btn = document.querySelector(`.mobile-button.${dir}`);\n          if (!btn) return;\n          btn.addEventListener('touchstart', ev => {\n            var _window$navigator$vib2, _window$navigator2;\n            ev.preventDefault();\n            if (dir === 'left') {\n              refs.velocity.current = -1;\n              refs.dir.current = 'left';\n            }\n            if (dir === 'right') {\n              refs.velocity.current = 1;\n              refs.dir.current = 'right';\n            }\n            if (dir === 'up' && !refs.jumping.current) {\n              refs.jumping.current = true;\n              refs.jumpVel.current = jumpForce;\n            }\n            (_window$navigator$vib2 = (_window$navigator2 = window.navigator).vibrate) === null || _window$navigator$vib2 === void 0 ? void 0 : _window$navigator$vib2.call(_window$navigator2, 20);\n          });\n          btn.addEventListener('touchend', ev => {\n            ev.preventDefault();\n            if (dir !== 'up') refs.velocity.current = 0;\n          });\n        });\n      };\n      if (isMobile) setTimeout(setupTouch, 100);\n\n      // Limpieza al desmontar\n      return () => {\n        window.removeEventListener('keydown', onKeyDown);\n        window.removeEventListener('keyup', onKeyUp);\n        app.destroy(true, {\n          children: true\n        });\n        document.body.style.overflow = '';\n      };\n    })();\n  }, [isMobile, modal.visible]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-bar\",\n        style: {\n          width: `${progress}%`\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-text\",\n        children: [\"Cargando\\u2026 \", progress, \"%\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header-juego\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Emanuel Alvarado Guzman\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Full Stack & Data Analyst\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"redes\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            const a = audioRef.current;\n            if (a) {\n              a.muted = !a.muted;\n              setMuted(a.muted);\n            }\n          },\n          children: muted ? 'üîá' : 'üîä'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 336,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: containerRef,\n      className: \"pixi-container\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 355,\n      columnNumber: 7\n    }, this), modal.visible && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-content\",\n        role: \"dialog\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"close\",\n          onClick: () => setModal({\n            visible: false,\n            content: ''\n          }),\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          dangerouslySetInnerHTML: {\n            __html: modal.content\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"modal-hint\",\n          children: \"(Esc para cerrar)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 9\n    }, this), isMobile && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mobile-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mobile-button left\",\n        \"aria-label\": \"Izquierda\",\n        children: \"\\u2B05\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mobile-button up\",\n        \"aria-label\": \"Saltar\",\n        children: \"\\u2B06\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"mobile-button right\",\n        \"aria-label\": \"Derecha\",\n        children: \"\\u27A1\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 373,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 328,\n    columnNumber: 5\n  }, this);\n}\n_s(Juego, \"XmvMdtCW/i2tb+1EYBE/vKfuyjo=\");\n_c = Juego;\nvar _c;\n$RefreshReg$(_c, \"Juego\");","map":{"version":3,"names":["React","useEffect","useRef","useState","Application","Assets","Sprite","Container","TilingSprite","Text","TextStyle","Texture","jsxDEV","_jsxDEV","bloqueContenidos","etiquetasBloques","SPRITE_PATHS","file","alias","Juego","_s","loading","setLoading","progress","setProgress","modal","setModal","visible","content","muted","setMuted","isMobile","setIsMobile","containerRef","audioRef","appRef","refs","velocity","jumpVel","jumping","dir","mario","world","fondo","bloques","createFallback","color","w","h","cvs","document","createElement","width","height","ctx","getContext","fillStyle","toString","padStart","fillRect","from","onResize","window","innerWidth","onEsc","e","key","addEventListener","removeEventListener","body","style","overflow","current","Audio","process","env","PUBLIC_URL","loop","volume","playOnInteract","play","catch","forEach","evt","app","innerHeight","backgroundColor","resolution","devicePixelRatio","resizeTo","antialias","appendChild","view","init","basePath","assetList","i","length","load","src","cache","add","Math","round","T","get","framesL","map","framesR","suelo","screen","y","stage","addChild","zIndex","nube","position","set","random","scale","etq","bloque","interactive","on","push","label","fontFamily","fontSize","fill","stroke","strokeThickness","anchor","x","frame","counter","gravity","jumpForce","moveSpeed","ticker","delta","vel","texture","dx","worldLeft","worldRight","leftThresh","rightThresh","tilePosition","max","min","onKeyDown","_window$navigator$vib","_window$navigator","navigator","vibrate","call","onKeyUp","includes","setupTouch","btn","querySelector","ev","_window$navigator$vib2","_window$navigator2","preventDefault","setTimeout","destroy","children","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","a","ref","role","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["C:/Users/emalv/OneDrive/Desktop/Portafolio/cv-ciudad/src/components/Juego.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport {\r\n  Application,\r\n  Assets,\r\n  Sprite,\r\n  Container,\r\n  TilingSprite,\r\n  Text,\r\n  TextStyle,\r\n  Texture\r\n} from 'pixi.js';\r\nimport './Juego.css';\r\n\r\n// Aqu√≠ pega tus 10 contenidos HTML de los bloques, en el mismo orden de etiquetasBloques:\r\nconst bloqueContenidos = [\r\n  `<h2>Experiencia Profesional</h2>‚Ä¶`,    // 1\r\n  `<h2>Educaci√≥n</h2>‚Ä¶`,                  // 2\r\n  `<h2>Habilidades T√©cnicas</h2>‚Ä¶`,       // 3\r\n  `<h2>Idiomas</h2>‚Ä¶`,                     // 4\r\n  `<h2>Contacto</h2>‚Ä¶`,                    // 5\r\n  `<h2>Resumen Profesional</h2>‚Ä¶`,         // 6\r\n  `<h2>Proyectos Destacados</h2>‚Ä¶`,        // 7\r\n  `<h2>Herramientas</h2>‚Ä¶`,                // 8\r\n  `<h2>Habilidades Blandas</h2>‚Ä¶`,         // 9\r\n  `<h2>Experiencias Adicionales</h2>‚Ä¶`,    // 10\r\n];\r\n\r\nconst etiquetasBloques = [\r\n  'Experiencia',\r\n  'Educaci√≥n',\r\n  'Habilidades',\r\n  'Idiomas',\r\n  'Contacto',\r\n  'Resumen',\r\n  'Proyectos',\r\n  'Herramientas',\r\n  'Soft Skills',\r\n  'Extras',\r\n];\r\n\r\n// Rutas de tus sprites de caminar\r\nconst SPRITE_PATHS = [\r\n  { file: 'tile000.png', alias: 'walk0' },\r\n  { file: 'tile001.png', alias: 'walk1' },\r\n  { file: 'tile002.png', alias: 'walk2' },\r\n  { file: 'tile003.png', alias: 'walk3' },\r\n  { file: 'tile004.png', alias: 'walk4' },\r\n  { file: 'tile005.png', alias: 'walk5' },\r\n  { file: 'tile006.png', alias: 'walk6' },\r\n  { file: 'tile007.png', alias: 'walk7' },\r\n];\r\n\r\nexport default function Juego() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [progress, setProgress] = useState(0);\r\n  const [modal, setModal] = useState({ visible: false, content: '' });\r\n  const [muted, setMuted] = useState(false);\r\n  const [isMobile, setIsMobile] = useState(false);\r\n\r\n  const containerRef = useRef();\r\n  const audioRef = useRef();\r\n  const appRef = useRef();\r\n  const refs = {\r\n    velocity: useRef(0),\r\n    jumpVel: useRef(0),\r\n    jumping: useRef(false),\r\n    dir: useRef('right'),\r\n    mario: useRef(),\r\n    world: useRef(),\r\n    fondo: useRef(),\r\n    bloques: useRef([]),\r\n  };\r\n\r\n  // Crea una textura de respaldo si falla la carga\r\n  const createFallback = (color = 0xff0000, w = 64, h = 64) => {\r\n    const cvs = document.createElement('canvas');\r\n    cvs.width = w;\r\n    cvs.height = h;\r\n    const ctx = cvs.getContext('2d');\r\n    ctx.fillStyle = `#${color.toString(16).padStart(6, '0')}`;\r\n    ctx.fillRect(0, 0, w, h);\r\n    return Texture.from(cvs);\r\n  };\r\n\r\n  // Detectar cambio de tama√±o para m√≥vil y cerrar modal con Escape\r\n  useEffect(() => {\r\n    const onResize = () => setIsMobile(window.innerWidth <= 768);\r\n    const onEsc = e =>\r\n      e.key === 'Escape' && modal.visible && setModal({ visible: false, content: '' });\r\n\r\n    window.addEventListener('resize', onResize);\r\n    window.addEventListener('keydown', onEsc);\r\n    onResize();\r\n    return () => {\r\n      window.removeEventListener('resize', onResize);\r\n      window.removeEventListener('keydown', onEsc);\r\n    };\r\n  }, [modal.visible]);\r\n\r\n  // Configuraci√≥n principal de PixiJS\r\n  useEffect(() => {\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    // Inicializa audio de fondo\r\n    audioRef.current = new Audio(process.env.PUBLIC_URL + '/assets/musica.mp3');\r\n    audioRef.current.loop = true;\r\n    audioRef.current.volume = 0.05;\r\n    const playOnInteract = () => {\r\n      audioRef.current.play().catch(() => {});\r\n      ['click', 'keydown', 'touchstart'].forEach(evt =>\r\n        document.removeEventListener(evt, playOnInteract)\r\n      );\r\n    };\r\n    ['click', 'keydown', 'touchstart'].forEach(evt =>\r\n      document.addEventListener(evt, playOnInteract)\r\n    );\r\n\r\n    // Init Pixi application\r\n    const app = new Application({\r\n      width: window.innerWidth,\r\n      height: window.innerHeight,\r\n      backgroundColor: 0x87ceeb,\r\n      resolution: window.devicePixelRatio || 1,\r\n      resizeTo: window,\r\n      antialias: true,\r\n    });\r\n    appRef.current = app;\r\n    containerRef.current.appendChild(app.view);\r\n\r\n    (async () => {\r\n      // Prepara la carga de assets\r\n      await Assets.init({ basePath: process.env.PUBLIC_URL + '/assets' });\r\n      const assetList = [\r\n        ...SPRITE_PATHS,\r\n        { file: 'suelo.png', alias: 'suelo' },\r\n        { file: 'fondo.png', alias: 'fondo' },\r\n        { file: 'bloque.png', alias: 'bloque' },\r\n        { file: 'nube.png', alias: 'nube' },\r\n        { file: 'farol.png', alias: 'farol' },\r\n        { file: 'arbusto.png', alias: 'arbusto' },\r\n      ];\r\n\r\n      // Carga con progreso y fallback\r\n      for (let i = 0; i < assetList.length; i++) {\r\n        const { file, alias } = assetList[i];\r\n        try {\r\n          await Assets.load({ src: file, alias });\r\n        } catch {\r\n          Assets.cache.add(alias, createFallback());\r\n        }\r\n        setProgress(Math.round(((i + 1) / assetList.length) * 100));\r\n      }\r\n      setLoading(false);\r\n\r\n      // Recupera texturas\r\n      const T = key => Assets.get(key);\r\n      const framesL = ['walk0', 'walk1', 'walk2', 'walk3'].map(T);\r\n      const framesR = ['walk7', 'walk6', 'walk5', 'walk4'].map(T);\r\n\r\n      // Suelo infinito\r\n      const suelo = new TilingSprite(T('suelo'), app.screen.width * 2, 100);\r\n      suelo.y = app.screen.height - 50;\r\n      app.stage.addChild(suelo);\r\n\r\n      // Fondo parallax\r\n      const fondo = new TilingSprite(T('fondo'), 6000, app.screen.height);\r\n      fondo.zIndex = -1;\r\n      app.stage.addChild(fondo);\r\n      refs.fondo.current = fondo;\r\n\r\n      // Contenedor global\r\n      const world = new Container();\r\n      app.stage.addChild(world);\r\n      refs.world.current = world;\r\n\r\n      // Nubes decorativas\r\n      for (let i = 0; i < 10; i++) {\r\n        const nube = new Sprite(T('nube'));\r\n        nube.position.set(i * 800, 80 + Math.random() * 20);\r\n        nube.scale.set(0.5);\r\n        world.addChild(nube);\r\n      }\r\n\r\n      // Bloques interactivos con etiqueta y modal\r\n      etiquetasBloques.forEach((etq, i) => {\r\n        const bloque = new Sprite(T('bloque'));\r\n        bloque.scale.set(0.05);\r\n        bloque.position.set(900 + i * 400, app.screen.height - 280);\r\n        bloque.interactive = true;\r\n        bloque.on('pointerdown', () => {\r\n          setModal({ visible: true, content: bloqueContenidos[i] });\r\n        });\r\n        world.addChild(bloque);\r\n        refs.bloques.current.push(bloque);\r\n\r\n        const label = new Text(etq, new TextStyle({\r\n          fontFamily: 'Arial',\r\n          fontSize: 18,\r\n          fill: 'white',\r\n          stroke: '#000000',\r\n          strokeThickness: 3,\r\n        }));\r\n        label.anchor.set(0.5);\r\n        label.position.set(bloque.x + bloque.width / 2, bloque.y - 40);\r\n        world.addChild(label);\r\n      });\r\n\r\n      // Personaje principal\r\n      const mario = new Sprite(framesR[0]);\r\n      mario.anchor.set(0.5, 1);\r\n      mario.position.set(app.screen.width / 4, app.screen.height - 50);\r\n      mario.scale.set(0.58);\r\n      world.addChild(mario);\r\n      refs.mario.current = mario;\r\n\r\n      // Variables f√≠sicas y de animaci√≥n\r\n      let frame = 0,\r\n        counter = 0;\r\n      const gravity = 1.5,\r\n        jumpForce = -25,\r\n        moveSpeed = 10;\r\n\r\n      // Bucle principal\r\n      app.ticker.add(delta => {\r\n        const vel = refs.velocity.current;\r\n        const dir = refs.dir.current;\r\n\r\n        // Animaci√≥n de caminar\r\n        if (vel !== 0) {\r\n          counter += delta;\r\n          if (counter >= 10) {\r\n            counter = 0;\r\n            frame = (frame + 1) % 4;\r\n            mario.texture = dir === 'right' ? framesR[frame] : framesL[frame];\r\n          }\r\n        } else {\r\n          mario.texture = dir === 'right' ? framesR[0] : framesL[0];\r\n        }\r\n\r\n        // F√≠sica de salto\r\n        if (refs.jumping.current) {\r\n          mario.y += refs.jumpVel.current;\r\n          refs.jumpVel.current += gravity;\r\n          if (mario.y >= app.screen.height - 50) {\r\n            mario.y = app.screen.height - 50;\r\n            refs.jumping.current = false;\r\n            refs.jumpVel.current = 0;\r\n          }\r\n        }\r\n\r\n        // Scroll del mundo vs movimiento de Mario\r\n        const dx = vel * moveSpeed * (delta / 16.67);\r\n        const worldLeft = 0;\r\n        const worldRight = -(world.width - app.screen.width);\r\n        const leftThresh = app.screen.width * 0.3;\r\n        const rightThresh = app.screen.width * 0.7;\r\n\r\n        if (vel < 0) {\r\n          if (mario.x > leftThresh || world.x >= worldLeft) mario.x += dx;\r\n          else {\r\n            world.x -= dx;\r\n            fondo.tilePosition.x += dx * 0.2;\r\n          }\r\n        } else if (vel > 0) {\r\n          if (mario.x < rightThresh || world.x <= worldRight) mario.x += dx;\r\n          else {\r\n            world.x -= dx;\r\n            fondo.tilePosition.x += dx * 0.2;\r\n          }\r\n        }\r\n\r\n        // L√≠mites\r\n        mario.x = Math.max(0, Math.min(app.screen.width, mario.x));\r\n        world.x = Math.max(worldRight, Math.min(worldLeft, world.x));\r\n      });\r\n\r\n      // Controles de teclado\r\n      const onKeyDown = e => {\r\n        if (modal.visible) return;\r\n        if (e.key === 'ArrowRight') { refs.velocity.current = 1; refs.dir.current = 'right'; }\r\n        if (e.key === 'ArrowLeft')  { refs.velocity.current = -1; refs.dir.current = 'left'; }\r\n        if ((e.key === 'ArrowUp' || e.key === ' ') && !refs.jumping.current) {\r\n          refs.jumping.current = true;\r\n          refs.jumpVel.current = jumpForce;\r\n          window.navigator.vibrate?.(30);\r\n        }\r\n      };\r\n      const onKeyUp = e => {\r\n        if (['ArrowRight', 'ArrowLeft'].includes(e.key)) refs.velocity.current = 0;\r\n      };\r\n      window.addEventListener('keydown', onKeyDown);\r\n      window.addEventListener('keyup', onKeyUp);\r\n\r\n      // Controles t√°ctiles para m√≥vil\r\n      const setupTouch = () => {\r\n        ['left', 'up', 'right'].forEach(dir => {\r\n          const btn = document.querySelector(`.mobile-button.${dir}`);\r\n          if (!btn) return;\r\n          btn.addEventListener('touchstart', ev => {\r\n            ev.preventDefault();\r\n            if (dir === 'left')  { refs.velocity.current = -1; refs.dir.current = 'left'; }\r\n            if (dir === 'right') { refs.velocity.current =  1; refs.dir.current = 'right'; }\r\n            if (dir === 'up' && !refs.jumping.current) {\r\n              refs.jumping.current = true;\r\n              refs.jumpVel.current = jumpForce;\r\n            }\r\n            window.navigator.vibrate?.(20);\r\n          });\r\n          btn.addEventListener('touchend', ev => {\r\n            ev.preventDefault();\r\n            if (dir !== 'up') refs.velocity.current = 0;\r\n          });\r\n        });\r\n      };\r\n      if (isMobile) setTimeout(setupTouch, 100);\r\n\r\n      // Limpieza al desmontar\r\n      return () => {\r\n        window.removeEventListener('keydown', onKeyDown);\r\n        window.removeEventListener('keyup', onKeyUp);\r\n        app.destroy(true, { children: true });\r\n        document.body.style.overflow = '';\r\n      };\r\n    })();\r\n  }, [isMobile, modal.visible]);\r\n\r\n  return (\r\n    <div className=\"game-container\">\r\n      {loading && (\r\n        <div className=\"loading-screen\">\r\n          <div className=\"progress-bar\" style={{ width: `${progress}%` }} />\r\n          <div className=\"progress-text\">Cargando‚Ä¶ {progress}%</div>\r\n        </div>\r\n      )}\r\n\r\n      <header className=\"header-juego\">\r\n        <h1>Emanuel Alvarado Guzman</h1>\r\n        <p>Full Stack & Data Analyst</p>\r\n        <div className=\"redes\">\r\n          {/* Aqu√≠ tus enlaces a LinkedIn, email, GitHub */}\r\n          <button\r\n            onClick={() => {\r\n              const a = audioRef.current;\r\n              if (a) {\r\n                a.muted = !a.muted;\r\n                setMuted(a.muted);\r\n              }\r\n            }}\r\n          >\r\n            {muted ? 'üîá' : 'üîä'}\r\n          </button>\r\n        </div>\r\n      </header>\r\n\r\n      <div ref={containerRef} className=\"pixi-container\" />\r\n\r\n      {modal.visible && (\r\n        <div className=\"modal\">\r\n          <div className=\"modal-content\" role=\"dialog\">\r\n            <span\r\n              className=\"close\"\r\n              onClick={() => setModal({ visible: false, content: '' })}\r\n            >\r\n              &times;\r\n            </span>\r\n            <div dangerouslySetInnerHTML={{ __html: modal.content }} />\r\n            <p className=\"modal-hint\">(Esc para cerrar)</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {isMobile && (\r\n        <div className=\"mobile-controls\">\r\n          <button className=\"mobile-button left\" aria-label=\"Izquierda\">\r\n            ‚¨ÖÔ∏è\r\n          </button>\r\n          <button className=\"mobile-button up\" aria-label=\"Saltar\">\r\n            ‚¨ÜÔ∏è\r\n          </button>\r\n          <button className=\"mobile-button right\" aria-label=\"Derecha\">\r\n            ‚û°Ô∏è\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}