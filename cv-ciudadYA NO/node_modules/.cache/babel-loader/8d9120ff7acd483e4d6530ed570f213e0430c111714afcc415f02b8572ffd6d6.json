{"ast":null,"code":"import { Color } from '../../../../color/Color.mjs';\nimport { extractSvgUrlId } from './utils/extractSvgUrlId.mjs';\n\"use strict\";\nconst styleAttributes = {\n  // Fill properties\n  fill: {\n    type: \"paint\",\n    default: 0\n  },\n  // Fill color/gradient\n  \"fill-opacity\": {\n    type: \"number\",\n    default: 1\n  },\n  // Fill transparency\n  // Stroke properties\n  stroke: {\n    type: \"paint\",\n    default: 0\n  },\n  // Stroke color/gradient\n  \"stroke-width\": {\n    type: \"number\",\n    default: 1\n  },\n  // Width of stroke\n  \"stroke-opacity\": {\n    type: \"number\",\n    default: 1\n  },\n  // Stroke transparency\n  \"stroke-linecap\": {\n    type: \"string\",\n    default: \"butt\"\n  },\n  // End cap style: butt, round, square\n  \"stroke-linejoin\": {\n    type: \"string\",\n    default: \"miter\"\n  },\n  // Join style: miter, round, bevel\n  \"stroke-miterlimit\": {\n    type: \"number\",\n    default: 10\n  },\n  // Limit on miter join sharpness\n  \"stroke-dasharray\": {\n    type: \"string\",\n    default: \"none\"\n  },\n  // Dash pattern\n  \"stroke-dashoffset\": {\n    type: \"number\",\n    default: 0\n  },\n  // Offset for dash pattern\n  // Global properties\n  opacity: {\n    type: \"number\",\n    default: 1\n  }\n  // Overall opacity\n};\nfunction parseSVGStyle(svg, session) {\n  const style = svg.getAttribute(\"style\");\n  const strokeStyle = {};\n  const fillStyle = {};\n  const result = {\n    strokeStyle,\n    fillStyle,\n    useFill: false,\n    useStroke: false\n  };\n  for (const key in styleAttributes) {\n    const attribute = svg.getAttribute(key);\n    if (attribute) {\n      parseAttribute(session, result, key, attribute.trim());\n    }\n  }\n  if (style) {\n    const styleParts = style.split(\";\");\n    for (let i = 0; i < styleParts.length; i++) {\n      const stylePart = styleParts[i].trim();\n      const [key, value] = stylePart.split(\":\");\n      if (styleAttributes[key]) {\n        parseAttribute(session, result, key, value.trim());\n      }\n    }\n  }\n  return {\n    strokeStyle: result.useStroke ? strokeStyle : null,\n    fillStyle: result.useFill ? fillStyle : null,\n    useFill: result.useFill,\n    useStroke: result.useStroke\n  };\n}\nfunction parseAttribute(session, result, id, value) {\n  switch (id) {\n    case \"stroke\":\n      if (value !== \"none\") {\n        if (value.startsWith(\"url(\")) {\n          const id2 = extractSvgUrlId(value);\n          result.strokeStyle.fill = session.defs[id2];\n        } else {\n          result.strokeStyle.color = Color.shared.setValue(value).toNumber();\n        }\n        result.useStroke = true;\n      }\n      break;\n    case \"stroke-width\":\n      result.strokeStyle.width = Number(value);\n      break;\n    case \"fill\":\n      if (value !== \"none\") {\n        if (value.startsWith(\"url(\")) {\n          const id2 = extractSvgUrlId(value);\n          result.fillStyle.fill = session.defs[id2];\n        } else {\n          result.fillStyle.color = Color.shared.setValue(value).toNumber();\n        }\n        result.useFill = true;\n      }\n      break;\n    case \"fill-opacity\":\n      result.fillStyle.alpha = Number(value);\n      break;\n    case \"stroke-opacity\":\n      result.strokeStyle.alpha = Number(value);\n      break;\n    case \"opacity\":\n      result.fillStyle.alpha = Number(value);\n      result.strokeStyle.alpha = Number(value);\n      break;\n  }\n}\nexport { parseAttribute, parseSVGStyle, styleAttributes };","map":{"version":3,"names":["styleAttributes","fill","type","default","stroke","opacity","parseSVGStyle","svg","session","style","getAttribute","strokeStyle","fillStyle","result","useFill","useStroke","key","attribute","parseAttribute","trim","styleParts","split","i","length","stylePart","value","id","startsWith","id2","extractSvgUrlId","defs","color","Color","shared","setValue","toNumber","width","Number","alpha"],"sources":["C:\\Users\\emalv\\OneDrive\\Desktop\\Portafolio\\cv-ciudad\\node_modules\\pixi.js\\src\\scene\\graphics\\shared\\svg\\parseSVGStyle.ts"],"sourcesContent":["import { Color } from '../../../../color/Color';\nimport { extractSvgUrlId } from './utils/extractSvgUrlId';\n\nimport type { ConvertedFillStyle, ConvertedStrokeStyle, FillStyle, StrokeStyle } from '../FillTypes';\nimport type { Session } from './SVGParser';\n\n/**\n * A map of SVG style attributes and their default values.\n * Each attribute has a type and default value used for SVG parsing.\n * - 'paint' type can be a color or gradient\n * - 'number' type is a numeric value\n * - 'string' type is a text value\n */\nexport const styleAttributes = {\n    // Fill properties\n    fill: { type: 'paint', default: 0 }, // Fill color/gradient\n    'fill-opacity': { type: 'number', default: 1 }, // Fill transparency\n\n    // Stroke properties\n    stroke: { type: 'paint', default: 0 }, // Stroke color/gradient\n    'stroke-width': { type: 'number', default: 1 }, // Width of stroke\n    'stroke-opacity': { type: 'number', default: 1 }, // Stroke transparency\n    'stroke-linecap': { type: 'string', default: 'butt' }, // End cap style: butt, round, square\n    'stroke-linejoin': { type: 'string', default: 'miter' }, // Join style: miter, round, bevel\n    'stroke-miterlimit': { type: 'number', default: 10 }, // Limit on miter join sharpness\n    'stroke-dasharray': { type: 'string', default: 'none' }, // Dash pattern\n    'stroke-dashoffset': { type: 'number', default: 0 }, // Offset for dash pattern\n\n    // Global properties\n    opacity: { type: 'number', default: 1 }, // Overall opacity\n};\n/** Represents the result of parsing SVG style attributes */\nexport type StyleResult = {\n    /** The stroke style properties */\n    strokeStyle: StrokeStyle;\n    /** The fill style properties */\n    fillStyle: FillStyle;\n    /** Whether fill should be applied */\n    useFill: boolean;\n    /** Whether stroke should be applied */\n    useStroke: boolean;\n};\n\n/**\n * Parses SVG style attributes and inline styles to determine fill and stroke properties.\n * Handles both direct attributes and CSS-style declarations in the style attribute.\n * @param svg - The SVG element to parse styles from\n * @param session - The current SVG parsing session containing definitions\n * @returns An object containing the parsed fill and stroke styles\n */\nexport function parseSVGStyle(svg: SVGElement, session: Session): StyleResult\n{\n    const style = svg.getAttribute('style');\n\n    const strokeStyle: StrokeStyle = {};\n\n    const fillStyle: FillStyle = {};\n\n    const result: StyleResult = {\n        strokeStyle,\n        fillStyle,\n        useFill: false,\n        useStroke: false,\n    };\n\n    // First parse direct style attributes\n    for (const key in styleAttributes)\n    {\n        const attribute = svg.getAttribute(key);\n\n        if (attribute)\n        {\n            parseAttribute(session, result, key, attribute.trim());\n        }\n    }\n\n    // Then parse inline styles which override direct attributes\n    if (style)\n    {\n        const styleParts = style.split(';');\n\n        for (let i = 0; i < styleParts.length; i++)\n        {\n            const stylePart = styleParts[i].trim();\n\n            const [key, value] = stylePart.split(':');\n\n            if (styleAttributes[key as keyof typeof styleAttributes])\n            {\n                parseAttribute(session, result, key, value.trim());\n            }\n        }\n    }\n\n    return {\n        strokeStyle: result.useStroke ? (strokeStyle as ConvertedStrokeStyle) : null,\n        fillStyle: result.useFill ? (fillStyle as ConvertedFillStyle) : null,\n        useFill: result.useFill,\n        useStroke: result.useStroke,\n    };\n}\n\n/**\n * Parses a single SVG style attribute and updates the style result accordingly.\n * Handles color values, gradients, opacities and other style properties.\n * @param session - The current SVG parsing session containing definitions\n * @param result - The style result object to update\n * @param id - The attribute name/id to parse\n * @param value - The attribute value to parse\n */\nexport function parseAttribute(\n    session: Session,\n    result: StyleResult,\n    id: string,\n    value: string\n): void\n{\n    switch (id)\n    {\n        case 'stroke':\n            if (value !== 'none')\n            {\n                if (value.startsWith('url('))\n                {\n                    // Extract gradient/pattern id from url reference\n                    const id = extractSvgUrlId(value);\n\n                    result.strokeStyle.fill = session.defs[id];\n                }\n                else\n                {\n                    // Parse as color value\n                    result.strokeStyle.color = Color.shared.setValue(value).toNumber();\n                }\n\n                result.useStroke = true;\n            }\n\n            break;\n        case 'stroke-width':\n            result.strokeStyle.width = Number(value);\n            break;\n        case 'fill':\n            if (value !== 'none')\n            {\n                if (value.startsWith('url('))\n                {\n                    // Extract gradient/pattern id from url reference\n                    const id = extractSvgUrlId(value);\n\n                    result.fillStyle.fill = session.defs[id];\n                }\n                else\n                {\n                    // Parse as color value\n                    result.fillStyle.color = Color.shared.setValue(value).toNumber();\n                }\n\n                result.useFill = true;\n            }\n            break;\n        case 'fill-opacity':\n            result.fillStyle.alpha = Number(value);\n            break;\n        case 'stroke-opacity':\n            result.strokeStyle.alpha = Number(value);\n            break;\n        case 'opacity':\n            // Global opacity affects both fill and stroke\n            result.fillStyle.alpha = Number(value);\n            result.strokeStyle.alpha = Number(value);\n            break;\n    }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}